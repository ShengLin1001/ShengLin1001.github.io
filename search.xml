<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>VASP - VTheory - Space group</title>
      <link href="/Software/VASP/VTheory/VASP-VTheory-Space-group/"/>
      <url>/Software/VASP/VTheory/VASP-VTheory-Space-group/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>A still tongue makes a wise head<em></strong></p><p align="center"><strong><em>寡言者智<em></strong></p><p><strong>Updated time: 04/12 2024.</strong></p><h2 id="Write-at-first"><a href="#Write-at-first" class="headerlink" title="Write at first"></a><strong>Write</strong> at first</h2><p>空间群论。当 hetbuilder 创建一系列异质结构之后，需要进行去重。这其中应用了空间群论（空间群同构，结构等价）的识别。</p><h2 id="Talking"><a href="#Talking" class="headerlink" title="Talking"></a>Talking</h2><p>判断两个空间结构等价：</p><ul><li>空间群等价（现成算法）</li><li>其中A结构的单元运用空间群的操作变换，能对应到B结构的原子上（实数有误差，pymatgen - structure matcher, hetbuilder - xcontop中用的另一个）</li></ul><p>structure - 算法复杂，没有考虑手性同构，确定不出来仿射类， 219 种</p><p>xcontop - 230 种，确定出仿射类</p><p>旋转（保守/不保守，真/伪，行列式 1/-1）</p><p>旋转不影响体积，行列式绝对值等于 1.</p><p>把三维空间里面的空间群，你分成230种类型的时候，这两个空间群之间如果是同构的，他们之间的这个旋转关系。它的行列式必须等于一，而不能等于负一的，如果他们要是通过一个负一的行列式去联系起来的，那么这个时候儿他们是一种手性同构的关系，在230种空间群里头有11对儿这样的。满足这种关系的手性同构。</p><p>那个手性同构呢，和空间反演有非常密切的关系，你应该知道时间繁衍啊，空间繁衍呢，是在实时空间上和时间上对应的，对类似的一种概念</p><p>电子自旋。拓扑材料，这些和这个时间，空间反演都有非常密切的关系。</p><p>1957年，诺贝尔物理学奖那个杨振宁和李正道那个解决的那个弱相弱对称相互作用下宇称不守恒，这个就和空间反演有非常密切的关系。</p><p>群论里头最重要的一个领域，就是叫做群的表示理论，在量子力学里面叫表象，表象理论和表象变换。你在什么样的表象下是吧，去研究你这个群的对称性。它确定你的各种不同的这个，你的符号体系啊，你的所用的这个书写形式等等啊，但这个它涉及到一个你用什么样的表象，一般说我们说这个表示在矢量空间上去表出，这个时候就产生了矩阵表示。有了矩阵表示，然后你才能用线性代数去解决这个相关问题，但是对于线性代数去表出一个群的各种操作的时候，这个时候呢基不唯一，是基变换问题。基变换属于表象变换的一种特例。</p><p>空间群就是说一般意义上的空间群，晶体学里面的空间群属于一般意义上的空间群的一个子群。这空间群属于欧几里的群的一个子群。欧几里群，属于仿射群的一个子群。然后这个经济学设计的这个群，跟一般意义上群论，这复杂性跟人家比又差的远。有空间国际晶体学会的空间群啊，国际晶体学表儿。因为刚才说基矢不唯一嘛，你总得确定一系列标准的，就是认为的惯用的基。惯用约胞，通常的布里渊区，就是这个背景下的一套规范。</p><p>spglib 不是从算群论的严格算法实现的，而是查表，数据库，经过一个数据上的速归计算，确定基，和标准的基比较。</p><p>现在关于空间群的大多的操作，基本上说是基于查表儿来实现的，没有说从纯群论意义上说去。从计算的角度讲计算群论。在纯群计算，群论的意义上去解这些问题，还是需要很多数学方面。而现在晶体学，一般说这个晶体学毕竟是搞物理的人，他不是搞数学的。这搞物理的人注重应用。你给几套标准的基，就好用的基，说是形状规则的。我不是前几天给你说你整那奇里古怪的形状干啥，就是这原因呢。因为他这个晶体学标准的基里头选择出来的，这这一这些标准基都是ABC，这个差的不是太多，你看是吧，都是这么搞出来的呀，这是大家眼里公识找出来的一套。公认的标准啊，是这么个理儿，并不是说你找那不行，你奇里奇形怪状的都行啊，它没有问题的，但是人家标准儿找出来这些就是大家觉得好看的，一般认为公公认是是标准级的，不是这么找法，你找那个就好像在眼里，就在别人眼里，就就觉得你这个离经太道了，知道吧。</p><p>两个同构的空间群之间，联系他们的是一个仿射变换。空业群本身的操作，是一个欧几里得群上的一个离散子群的变换。而空间群之间的同构变换，是一个仿射变换。</p><p>这个这个定理呢，叫做<strong>毕博巴赫</strong>啊，毕博巴赫定理属于这个希尔伯特23个数学问题的第18个问题当中的一部分，在100多年前从理论上就已经被解决了，但是在计算机里面真正把这个空间群枚举出来。是啊，三四十年前的事情啊。</p><p>就是把空业工业空业群230种，最初是从数学上解决出来的。从数学上解决之后，这是三维，但是到四维的时候，这个事儿就不好解决了。一直到1970年左右，然后在计算机里头才把这个事儿做了出来，大概到目前为止，就做到六维，四维的时候有4783个防设备，然后到五维和六维啊，那就更多更多了，三维的时候一般说是230种，对于一般的空间群，就是三维空间的晶体的一个研究就基本上够了，但是对于单晶啊，多晶准晶，这有时候就这一类的事儿啊，可能有时候需要用到更高维的空间群来刻画。</p><p>那你要是了解群表示论的话，你就知道那个空间群啊，空间群本身的表示啊，就是那些矩阵都是有理数儿。就是说，你要是选择约包，那你这个上边儿就是纯有理数儿。那你要选择笛卡尔系的表示，会出现一些无理数儿。但是但是它这些无理数儿也都是很简单的，因为刚才说了这个它的旋转12346这几种旋转啊，只有这几种转轴儿的情况。所以说他那个，有理数无理数的情况，哎，是非常的简单也是根号三啥的，根号二啥的这这一类的情况。但是如果你这个基，是非常复杂的一种基的时候，那你这个表示也变得很复杂。他这个表示的这个数儿，它不是说任意的无理数儿的，它它是无理数儿当中，哎，非常特殊的一一类数儿，叫做分约数儿，看这个事儿就能搞定它。但是我这是说这个空间群本身的表示，但是你涉及到这个啊，晶胞结构里头这个原子的这个位置的时候，这有两码事儿，这个原子位置它可是实数儿啊，它可是任意实数儿。就是说你只要求出两个空间群之间的同构关系之后，然后你再在这个基础上把分数坐标，把这个原子的分数坐标搞出来，然后。在计算这个原子的啊，晶胞里头，每个原子的分数坐标之间的这个对应关系，但是这个分数坐标它也不是简单的数儿，它可能是很复杂的，就是一系列的实数儿啊，你看那 vasp POSCAR 里头那结构都是精确到小数点儿以后很多位的，它这个就有一个问题啊，就是说你这个精度是吧，你考虑不同精度的时候。当你考虑，不同精度的时候儿，你得到这个空间的结构它不一样，你知道吧，这是个这是个很麻烦的问题啊，这事儿，你这这事儿我就说是很深奥的，就是说在群论里头啊，真正你要把一个群确定了，这东西他他用的时候必须是。精确啊，这个数儿在群论里头是，就是现在就目前来说，计算群论，从计算机里头研究群论，以非常精确的数儿来研究群论，只有到分元域上，这个是啊，就没有到实数上搞个群，这个事儿不存在的。在计算机里头，就是说从实际工程当中的应用科学研究当中的实际材料问题研究，你看这里头用空间群，然后然后他这里头很多坐标，VASP 计算要用实数，但是他这个实数对应出来那个群,不是计算意义上的精确群论.这这是一个很麻烦的问题，就是在浮点儿数范围内研究群啊，是一个这个非常复杂的问题。</p><p>所以说 spglib 那种操作那种事情，它是个查表儿，它是个查数据库，它不是严格意义上的群论的啊，这个on the fly啊，这样的方式去基于群论的严格算法来实现了这个群的很多事儿，它不是。他就是查个表儿啊，这么搞的，所以你给他一个比较怪的基，他都搞不了。</p><h2 id="CrystKit"><a href="#CrystKit" class="headerlink" title="CrystKit"></a>CrystKit</h2><ul><li>ref literature: Enantiomorphism of crystallographic groups in higher dimensions with results in dimensions up to 6 (<code>see Endnote/tools</code>)</li></ul>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> VASP </category>
          
          <category> VTheory </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-VASP-VTheory </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VASP - VTheory - Influence of cell</title>
      <link href="/Software/VASP/VTheory/VASP-VTheory-Influence-of-cell/"/>
      <url>/Software/VASP/VTheory/VASP-VTheory-Influence-of-cell/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Patience is the best remedy<em></strong></p><p align="center"><strong><em>忍耐是良药<em></strong></p><p><strong>Updated time: 04/10 2024.</strong></p><h2 id="Write-at-first"><a href="#Write-at-first" class="headerlink" title="Write at first"></a><strong>Write</strong> at first</h2><p><strong>Does the type of cell we calculated influence the results ?</strong></p><p><img src="/images/VASP-VTheory-Influence-of-cell/1.png" alt="many types of graphene lattice" style="zoom: 50%;" /></p><ul><li>对于石墨烯六角晶格，我们计算的结构是否影响最后的结果，相同的k点设置以及收敛参数等设置。</li><li>取不同的基矢，会影响相关的倒易空间基矢，进而影响倒易空间的k点采样，那这是不是意味着影响了最后的结果呢</li></ul><h2 id="A-good-answer-easyunfold"><a href="#A-good-answer-easyunfold" class="headerlink" title="A good answer: easyunfold"></a>A good answer: <a href="https://github.com/SMTG-Bham/easyunfold/issues/48#issuecomment-2041299435">easyunfold</a></h2><p><img src="/images/VASP-VTheory-Influence-of-cell/2.png" alt="question"></p><p><img src="/images/VASP-VTheory-Influence-of-cell/3.png" alt="answer"></p><h2 id="Talking"><a href="#Talking" class="headerlink" title="Talking"></a>Talking</h2><p>体系不变，不影响体系性质，激发态，基态，都不变。只有很小的差异。因为k点路径不同了，得对应上去。比较不同k点路径没什么意义啊。但物理属性不会有什么变化。</p><p>就说你这个体系只要没有变化，你选择什么样的晶格基矢，这个选择有无穷多种，你选择什么样的，它不会影响这个体系的物理性质。横看成岭侧成峰，不管怎么看还是那个山，它这个东西不会影响它这个这个。本身的客观属性的。但是你看当你选择不同的格子的时候，你倒易空间这些点呢，这些路径啊，就不是那个标准的选择高对称点的那个东西了。你怎么跟人家那标准的那些东西去对应上，比如说大家都用的那个路径，你用的另一个路径，你这事儿你怎么对应上去呢。通常的一个标准的一个路径选择，然后你搞了一个很怪的路径，你这路径不同，自然这个结果没法儿直接比较呀，你必须把它推换算到同一个路径上，你这个事儿才能比。</p><p>怎么从一个不同的路径上，直接的结果上互相转换呢？这事儿不是那么简单的呀，对不对，你没有整体的一个布里渊区波函数的一个信息，你不能从一个路径来推测到另一个路径的事儿啊，这玩意儿我感觉不好搞啊。</p><p>但是你排除我上面说的这些因素之外是吧，因为你考察能带这个事儿的话，比如说你是考察的那个高对称线啊，就高对称点直接连线的一些特性。但是你考察这个整体的布里渊区的话，整体这个结构的话，它必然是没有什么区别的。你不管采用什么样的格儿，它肯定都是一样的。但是问题是你选择不同的这个晶格基矢的时候，你得到布里渊区的形状会变化。这个变化了之后，你如何在这个变化之间把它们那个在不同的布里渊区，你这个这个路径跟那个选择的路径怎么对应上这个事儿。是吧，这这这事儿是一个很复杂的关系，因因为这个事儿不好搞对应，所以一般人没有这搞那么怪的根儿，对不对，那不就自己找麻烦嘛。</p><p>就就是说你看它那它那布里渊区是由于这个道格是道格是道格空间的里头的一个一个这个构造，然后它道格，它是基于道格的话，就是说它跟这个时空间的那个那个那个约包选择形状有关，你在时空间你你可以选择不同的约包形状，然后你可以构造不同的道义空间里头的布列区形状。但是一般说，要是没有人去去构造成特别怪异的，不列举形状，你看人都是构造的那个怎么样，尽量的这个这个对称是吧，怎么样，对这美观都是那么构造的呀，是吧，你整特别怪的一个玩意儿，那这东西就是说是。你你性质不会有变化的是吧，都是一个东西性质怎么变，但是你搞的这个挂的这个事儿的一个一个就是形状比较奇怪的这个东西的这样的属性，怎么跟人家标准那个那个选择形状那个属性去。对应上，这个对应应该是一个很复杂的函数儿，这函数儿不好找呀，问题是甚至都没有函数儿，可能得算或者怎么着，是吧，怎么搞搞搞过去，这这东西成为这个复杂的。</p><p>对，就是进一步说是你看这物理的体系的属性，有些是体系的总能量相关导出来的属性，有些是体系的特定的一些一些位置什么导出来的属性，那你选择不同的晶胞基矢的时候儿，形状儿不同，很可能会对某些特殊的位置上的一些得出来的东西有影响，但是整体性质的东西不会有影响的。</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><ul><li>体系不变，晶格怎么选都不会影响整体性质。虽然布里渊区会变，但对于整体布里渊区的性质不会变。</li><li>不同选取方式下，可能不是一个高对称点路径，那该怎么和标准的对应上，所以没有人选特别怪的晶胞。</li><li>物体属性有的是总能量相关导出的属性，有的是一些特定位置相关的属性。那选择不同的晶胞就只会影响某些特定位置相关量的属性，不会影响整体性质。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> VASP </category>
          
          <category> VTheory </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-VASP-VTheory </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Diary - Log</title>
      <link href="/Thinking/Diary/Diary-Log/"/>
      <url>/Thinking/Diary/Diary-Log/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Four eyes see more than two.<em></strong></p><p align="center"><strong><em>集思广益<em></strong></p><p><strong>Updated time: 04/10 2024.</strong></p><h1 id="For-storing"><a href="#For-storing" class="headerlink" title="For storing"></a>For storing</h1><p>2024.04.07<br>Pyenv hetbuilder<br>git, cmake, …</p><p>2024.04.08<br>vs code<br>ovito<br>.bashrc file<br>add git alias<br>git PJ_advanced_reasearch</p><p>2024.04.09<br>create a new env for mymetal contained myalloy, hetbuilder, py4vasp<br>create a environment about requirement.txt</p><p>2024.04.10<br>understand the workflow of hetbuilder<br>add the find_hetero, construct_hetero<br>test_weight for hetbuilder</p>]]></content>
      
      
      <categories>
          
          <category> Thinking </category>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thinking-Diary </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tool - Find heterostructure</title>
      <link href="/Software/Tool/Tool-Find-heterostructure/"/>
      <url>/Software/Tool/Tool-Find-heterostructure/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Please the eye and plague the heart<em></strong></p><p align="center"><strong><em>贪图-时快活, 必然留下隐患<em></strong></p><p><strong>Updated time: 04/10 2024.</strong></p><h2 id="Find-the-heterostructure"><a href="#Find-the-heterostructure" class="headerlink" title="Find the heterostructure"></a>Find the heterostructure</h2><h3 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h3><p>see <code>Tool - Summary</code></p><h3 id="Some-talks-advices"><a href="#Some-talks-advices" class="headerlink" title="Some talks / advices"></a>Some talks / advices</h3><ul><li><a href="https://github.com/ShengLin1001/PJ-advanced-reasearch/issues/1">Issue</a></li></ul><h3 id="ASE-Pymatgen"><a href="#ASE-Pymatgen" class="headerlink" title="ASE/Pymatgen"></a>ASE/Pymatgen</h3><ul><li>stack/interface function - only used for some similar structure (lattice type, constant, orientation), but could found a minimal force on the interface with specified interlayer space</li></ul><h3 id="VASPKIT"><a href="#VASPKIT" class="headerlink" title="VASPKIT"></a>VASPKIT</h3><p>When I use VASPKIT to generate a heterostructure, I found some interesting thing.</p><ol><li>VASPKIT can’t fix the lattice constant of upper or lower material.</li><li>I found over-distorted material in some model of extremely small angle, causing lose its original lattice information like HCP/FCC/… I think it’s because the VASPKIT didn’t set a tolerance of angle mismatch, and it has important influence in this extremely small angle model.</li></ol><h3 id="VASPKIT-First-Cup"><a href="#VASPKIT-First-Cup" class="headerlink" title="VASPKIT First-Cup"></a>VASPKIT First-Cup</h3><p>Because I want to fix the lattice constant of substrates, the VASPKIT couldn’t meet this requirement.</p><p>The code of The <a href="https://github.com/vaspkit/1st_VASPKIT_CUP">First Prize - LUOJUN</a> maybe could do it.</p><h4 id="Dependency"><a href="#Dependency" class="headerlink" title="Dependency"></a>Dependency</h4><ol><li>VASPKIT = 0.73</li><li>Python3</li><li>some python packages</li></ol><h4 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h4><ol><li>VASPKIT must ~0.73, because the bash  command has run <code>VASPKIT 406</code>.  This command is <code>406 Converte POSCAR to other format -&gt; POSCAR -&gt; 4061 POSCAR with Cartesian Coordinates</code> in 0.73 version, but has been changed now.</li></ol><p><img src="/images/Tool-Find-heterostructure/1.png" alt="406"></p><ol><li>The POSCAR can’t has <code>0.00000000</code> direct coordinate, if it has, this procedure will output some unexpected value errors.</li></ol><p><img src="/images/Tool-Find-heterostructure/2.png" alt="0 value error"></p><p><img src="/images/Tool-Find-heterostructure/3.png" alt="build.py"></p><h4 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h4><ol><li>v is controlling the shifting basic vector, maybe could be using to <strong>search more heterostructures</strong>.</li></ol><p><img src="/images/Tool-Find-heterostructure/4.png" alt="find_hetero.py"></p><h3 id="Hetbuilder"><a href="#Hetbuilder" class="headerlink" title="Hetbuilder"></a>Hetbuilder</h3><p>It has been installed !!!!</p><h4 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h4><pre><code class="lang-bash">% python3 3.11.2python3 -m venv /../../env% activatesource /../../env/bin/activate% get rootsudo apt-get update &amp;&amp; sudo apt install -y build-essential cmake git python3-dev python3-tk libsymspg-devgit clone https://github.com/hongyi-zhao/hetbuilder.git &amp;&amp; cd hetbuilderpip install -r requirements.txtpip install .</code></pre><p>The <a href="https://hetbuilder.readthedocs.io/en/latest/implementation.html">Coincidence lattices</a> theory maybe too strict for high mismatched film/substrate system to search a minimal configuration (like vaspkit, ~45 atoms).</p><p>The most output has &gt; 200 atoms, although we enlarge the t parameter - space in Angstrom unit.</p><h4 id="usage-see-more-mymetal-build-findhetero-py"><a href="#usage-see-more-mymetal-build-findhetero-py" class="headerlink" title="usage (see more mymetal/build/findhetero.py)"></a>usage (see more <code>mymetal/build/findhetero.py</code>)</h4><pre><code class="lang-bash">hetbuilder --helphetbuilder build --helphetbuilder -N 2 -t 2 -w 0 CONTCAR_SiO_film CONTCAR_FCC_film</code></pre><pre><code class="lang-python">from hetbuilder.algorithm import CoincidenceAlgorithmfrom hetbuilder.plotting import InteractivePlotfrom ase.io.vasp import read_vasp, write_vaspbottom = read_vasp(&#39;CONTCAR_SiO_film&#39;)top = read_vasp(&#39;CONTCAR_FCC_film&#39;)# we set up the algorithm classalg = CoincidenceAlgorithm(bottom, top)# we run the algorithm for a choice of parametersresults = alg.run(Nmax = 5, Nmin = 0,                   tolerance = 2, weight = 0.5)#for j in results:#    print(j)#%matplotlib widgetimport matplotlibmatplotlib.use(&#39;Qt5Agg&#39;) # if failed,  pip install PyQt5  PySide2iplot = InteractivePlot(bottom=bottom, top=top, results=results, weight=0)iplot.plot_results()j = results[1]print(type(j))print(j.bottom)print(j.top)print(j.stack)print(j.strain)# view(bottom)# view(j.stack)</code></pre><h4 id="construct-heterostructure"><a href="#construct-heterostructure" class="headerlink" title="construct heterostructure"></a>construct heterostructure</h4><pre><code class="lang-python">from ase import Atomsfrom ase.build import make_supercellfrom ase.build.tools import sortfrom numpy import array, zeros, concatenatefrom ase.visualize import viewdef build_supercells(primitive_bottom: Atoms = None,                          primitive_top: Atoms = None,                         M: array = None,                         N: array = None,                         angle_z: float = None,                          weight: float = 0.5,                         distance: float = 3.5,                         vacuum: float = 15,                         pbc: list = [True, True, False],                          reorder=True ) -&gt; Atoms:    &quot;&quot;&quot;    For construct supercell for two primitive cell known transition matrix and rotation angle of top layer around z-dir\n    Input: must be primitive cell\n           M, N: bottom, top matrix\n           angle_z: units: degree, +z direction\n           distance, vacuum: units: Angstron\n           weight: must be 0~1, fixing bottom~top\n           pbc, reorder: the default value is good\n    Output:            heterostructure    Usage:           For output of hetbuilder, results is a list contained many structures.           defined: j = results[0] or any index                    build_supercells(j.bottom, j.top, j.M, j.N, j.angle, j._weight) # note: _weight           For general situation,                    build_supercells(bottom, top, M, N, angle, weight)    &quot;&quot;&quot;    bottom = primitive_bottom.copy()    top = primitive_top.copy()    #print(top)    # make_supercell    bottom_sup = make_supercell(bottom, M)    top_sup = make_supercell(top, N)    #print(bottom_sup)    # rotate top layer around z, units: degree    top_sup.rotate(angle_z, &#39;z&#39;, rotate_cell=True)    #print(top_sup)    # translate from hetbuilder (atom_functions.cpp/.h) stack_atoms function    stack = stack_atoms(bottom_sup, top_sup, weight, distance, vacuum, pbc, reorder)    #print(1)    return stackdef stack_atoms(bottom_sup: Atoms = None, top_sup: Atoms = None, weight: float = 0.5, distance: float = 3.5, vacuum: float = 15,                 pbc: list = [True, True, False], reorder: bool=True, shift_tolerance: float = 1e-5) -&gt; Atoms:    &quot;&quot;&quot;    After searching the coincidenced supecell, we get the transition matrix(M for bottom, N for top), and make two supercells, and then try to match them.\n    Additionally, bottom, top, weight, distance, vacuum.\n    usage: updating...    Noted: the cell C = A + weight * [B - A], A - bottom, B - top    &quot;&quot;&quot;    # get the max, min z-position     bottom = bottom_sup.copy()    top = top_sup.copy()    min_z1, max_z1 = bottom.positions[:,2].min(), bottom.positions[:,2].max()    min_z2, max_z2 = top.positions[:,2].min(), top.positions[:,2].max()    bottom_thickness = max_z1 - min_z1    top_thickness = max_z2 - min_z2    #print(bottom_thickness)    #print(distance)    shift = bottom_thickness + distance    # add distance    bottom.positions[:,2] -= min_z1    bottom.positions[:,2] += shift_tolerance    top.positions[:,2] -= min_z2    top.positions[:,2] += shift    top.positions[:,2] += shift_tolerance    # generate lattice    new_lattice = zeros((3,3))    # C = A + weight * [B - A]    for i in range(2):          for j in range(2):            #print(i,j)            new_lattice[i, j] = bottom.cell[i, j] + weight * (top.cell[i, j] - bottom.cell[i, j])    new_lattice[2,2] = bottom_thickness + distance + top_thickness + vacuum    # combine the position and symbols information    all_positions = concatenate([bottom.positions, top.positions], axis=0)    all_symbols = bottom.get_chemical_symbols() + top.get_chemical_symbols()    # create new Atoms    stack = Atoms(symbols=all_symbols, positions=all_positions, cell=new_lattice, pbc=pbc)    stack.center()    if reorder:        stack = sort(stack)    return stackprint(build_supercells(bottom, top, j.M, j.N, j.angle, j._weight))print(build_supercells(bottom, top, j.M, j.N, j.angle, 0.5))print(build_supercells(bottom, top, j.M, j.N, j.angle, 0))print(build_supercells(bottom, top, j.M, j.N, j.angle, 1))</code></pre><h4 id="Strain-Stress"><a href="#Strain-Stress" class="headerlink" title="Strain, Stress"></a>Strain, Stress</h4><ul><li><a href="https://github.com/romankempt/hetbuilder/issues/9">issue</a></li></ul><p><img src="/images/Tool-Find-heterostructure/9.png" alt="talk"></p><h4 id="Some-bugs"><a href="#Some-bugs" class="headerlink" title="Some bugs"></a>Some bugs</h4><p><img src="/images/Tool-Find-heterostructure/6.png" alt="issue"></p><p><img src="/images/Tool-Find-heterostructure/7.png" alt="issue"></p><p><img src="/images/Tool-Find-heterostructure/8.png" alt="chat"></p><p>Fixed by change cli.py, it lose weight parameter when the run function are executed.</p><h3 id="Next-step"><a href="#Next-step" class="headerlink" title="Next step"></a>Next step</h3><p><img src="/images/Tool-Find-heterostructure/5.png" alt="next..."></p><h3 id="Further-thinking"><a href="#Further-thinking" class="headerlink" title="Further thinking"></a>Further thinking</h3><ul><li><p><strong><a href="https://cmdlab.github.io/Hetero2d/html/index.html#">Het2D</a> maybe useful!</strong></p></li><li><p><strong><a href="https://github.com/nmdl-mizo/interface_master">interface_master</a></strong></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Quantum mechanics - Density functional theory</title>
      <link href="/Theory/Quantum-mechanics/Quantum-mechanics-Density-functional-theory/"/>
      <url>/Theory/Quantum-mechanics/Quantum-mechanics-Density-functional-theory/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Birds of a feather flock together.<em></strong></p><p align="center"><strong><em>物以类聚, 鸟以群分。<em></strong></p><p><strong>Updated time: 04/01 2024.</strong></p><h2 id="04-01-2024"><a href="#04-01-2024" class="headerlink" title="04/01/2024"></a>04/01/2024</h2><h3 id="0-Preface"><a href="#0-Preface" class="headerlink" title="0. Preface"></a>0. Preface</h3><ul><li>Reading list</li><li>Focus solely on one DFT method suitable for solids and spatially extended materials, namely <strong>plane-wave DFT</strong></li><li>A series of exercises at the end of chapter</li></ul><h3 id="1-What-is-Density-Functional-Theory"><a href="#1-What-is-Density-Functional-Theory" class="headerlink" title="1. What is Density Functional Theory"></a>1. What is Density Functional Theory</h3><h3 id="1-1-The-Schrodinger-equation"><a href="#1-1-The-Schrodinger-equation" class="headerlink" title="1.1 The Schrodinger equation"></a>1.1 The Schrodinger equation</h3><ul><li>Ground state</li><li><strong>Born-Oppenheimer approximation</strong> <strong>(approximation 1)</strong></li><li>Adiabatic potential energy surface</li></ul><script type="math/tex; mode=display">H\psi=E\psi</script><p>$H$ - the Hamiltonian operator, not only one</p><p>$\psi$ - a set of solutions/ eigenstates of Hamiltonian</p><p>$E$ - real number. Each of these solutions, ${\psi _n}$, has an associated eigenvalue, ${E _n}$</p><h3 id="1-2-The-particle-in-a-box-or-a-harmonic-oscillator"><a href="#1-2-The-particle-in-a-box-or-a-harmonic-oscillator" class="headerlink" title="1.2 The particle in a box or a harmonic oscillator"></a>1.2 The particle in a box or a harmonic oscillator</h3><script type="math/tex; mode=display">\left[-\frac{\hbar^{2}}{2 m} \sum_{i=1}^{N} \nabla_{i}^{2}+\sum_{i=1}^{N} V\left(\mathbf{r}_{i}\right)+\sum_{i=1}^{N} \sum_{j<i} U\left(\mathbf{r}_{i}, \mathbf{r}_{j}\right)\right] \psi=E \psi</script><ul><li><p>left</p><ul><li>the kinetic energy of each electron</li><li>the interaction energy between each electron and the collection of atomic nuclei</li><li>the interaction energy between different electrons</li></ul></li><li><p>For this $H$, $\psi$ is electronic wave function, $\psi=\psi(\mathbf{r}_{1},\ldots,\mathbf{r}_{N})$. $E$ is ground state energy of the electrons (time-independent).</p></li><li><p>Hartree product <strong>(approximation 2)</strong></p><ul><li>Although the electron wave function is a function of each of the coordinates of all N electrons, it is possible to <strong>approximate</strong> $\psi$ as a product of individual electron wave functions.</li><li>$\psi=\psi_1(\mathbf{r})\psi_2(\mathbf{r}),\ldots,\psi_N(\mathbf{r})$</li><li>There are good motivations for approximating the full wave function into a product of individual one electron wave functions in this fashion.</li><li>Notice that $N$, the number of electrons, is considerably larger than $M$, the number of nuclei, simply because each atom has one nucleus and lots of electrons.</li><li>The dimension of full wave function for CO~2~ ($3·22=66$) , 100 Pt atoms (more than 23,000)</li></ul></li><li><p><strong>Why it’s many-body problem</strong></p><ul><li>The term in the Hamiltonian defining electron–electron interactions is the most critical one from the point of view of solving the equation.</li><li>The form of this contribution means that the individual electron wave function we defined above, $\psi_{i}(\mathbf{r})$, cannot be found without simultaneously considering the individual electron wave functions associated with all the other electrons.</li></ul></li><li><p>Although solving the Schrodinger equation can be viewed as the fundamental problem of quantum mechanics, it is worth realizing that <strong>the wave function for any particular set of coordinates cannot be directly observed</strong>. The quantity that can (in principle) be measured is the <strong>probability</strong> that the N electrons are at a particular set of coordinates, $\mathbf{r}_{1},…,\mathbf{r}_{N} $. This probability is equal to $\psi^*(\mathbf{r}_1,\ldots,\mathbf{r}_N)\psi(\mathbf{r}_1,\ldots,\mathbf{r}_N)$, where the asterisk indicates a complex conjugate.</p></li></ul><h3 id="1-3-Do-not-care-the-order-electronic-exchange"><a href="#1-3-Do-not-care-the-order-electronic-exchange" class="headerlink" title="1.3 Do not care the order - electronic exchange"></a>1.3 Do not care the order - electronic exchange</h3><script type="math/tex; mode=display">n(\mathbf{r})=2\sum_i\psi_i^*(\mathbf{r})\psi_i(\mathbf{r})</script><ul><li>The <strong>factor of 2</strong> appears because electrons have spin and the Pauli exclusion principle states that each individual electron wave function can be occupied by two separate electrons provided they have different spins.</li><li>the electron density, $n(r)$, which is a function of only <strong>three coordinates</strong>, contains a great amount of the information that is actually physically observable from the full wave function solution to the Schrodinger equation, which is a function of <strong>3N coordinates</strong>.</li></ul><h3 id="1-4-From-wave-functions-to-electron-density"><a href="#1-4-From-wave-functions-to-electron-density" class="headerlink" title="1.4 From wave functions to electron density"></a>1.4 From wave functions to electron density</h3><ul><li><p>Two fundamental mathematical theorems proved by Kohn and Hohenberg</p><ul><li><p>The ground-state energy from Schrodinger’s equation is a unique functional of the electron density.</p><ul><li><p>There exists a one-to-one mapping between the ground-state wave function and the ground-state electron density.</p><ul><li>So we can restate Hohenberg and Kohn’s result by saying that the ground-state energy E can be expressed as $E[n(r)]$, where $n(r)$ is the <strong>electron density</strong>. This is why this field is known as density functional theory.</li></ul></li><li><p>Another way to restate Hohenberg and Kohn’s result is that the <strong>ground-state electron density</strong> uniquely determines all properties, including the energy and wave function, of the ground state. Why is this result important? It means that we can think about solving the Schrodinger equation by finding <strong>a function of three spatial variables, the electron density</strong>, rather than <strong>a function of 3N variables, the wave function</strong>.</p><ul><li>Unfortunately, although the first Hohenberg–Kohn theorem rigorously proves that a functional of the electron density exists that can be used to solve the Schrodinger equation, the theorem says nothing about what the functional actually is.</li></ul></li></ul></li><li><p>The electron density that minimizes the energy of the overall functional is the true electron density corresponding to the full solution of the Schrodinger equation.</p><ul><li><p>A useful way to write down the functional described by the Hohenberg–Kohn theorem is in terms of the single-electron wave functions, $\psi_i(r)$.</p><script type="math/tex; mode=display">E[\{\psi_i\}]=E_\text{known}[\{\psi_i\}]+E_\text{XC}[\{\psi_i\}]</script><script type="math/tex; mode=display">\begin{aligned}E_\text{known}[\{\psi_i\}]&=-\frac{\hbar^2}{m}\sum_i\int\psi_i^*\nabla^2\psi_id^3r+\int V(\textbf{r})n(\textbf{r})d^3r\\&+\frac{e^2}{2}\int\int\frac{n(\textbf{r})n(\textbf{r}')}{|\textbf{r}-\textbf{r}'|}d^3rd^3r'+E_\text{ion}.\end{aligned}</script></li><li><p><strong>Right:</strong> the electron kinetic energies, the Coulomb interactions between the electrons and the nuclei, the Coulomb interactions between pairs of electrons, and the Coulomb interactions between pairs of nuclei.</p></li><li>The other term in the complete energy functional, $E_{XC}[\{\psi_i\}]$, is the <strong>exchange–correlation functional</strong>, and it is defined to include <strong>all the quantum mechanical effects</strong> that are not included in the “known” terms.</li></ul></li></ul></li></ul><p align="center"><strong><em>What is involved in finding minimum energy solutions of the total energy functional?<em></strong></p><ul><li><p>The derivation of a set of equations by Kohn and Sham</p><ul><li><p>This difficulty was solved by Kohn and Sham, who showed that the task of finding the right electron density can be expressed in a way that involves <strong>solving a set of equations in which each equation only involves a single electron</strong>.</p></li><li><p>The Kohn-Sham equations </p><script type="math/tex; mode=display">\left[-\frac{\hbar^2}{2m}\nabla^2+V(\mathbf{r})+V_H(\mathbf{r})+V_{\mathrm{XC}}(\mathbf{r})\right]\psi_i(\mathbf{r})=\varepsilon_i\psi_i(\mathbf{r}).</script></li></ul></li><li><p>Missing the summations that appear inside the full Schrodinger equation. This is because the solution of the Kohn–Sham equations are single-electron wave functions that depend on only three spatial variables, $\psi_i(r)$.</p></li><li><p>Hartree potential $V_H(\mathbf{r})=e^2\int\frac{n(\mathbf{r}’)}{|\mathbf{r}-\mathbf{r}’|}d^3r’$. This potential describes the <strong>Coulomb repulsion</strong> between the electron being considered in one of the Kohn–Sham equations and the total electron density defined by all electrons in the problem. The Hartree potential includes a so-called <strong>self-interaction (unphysical)</strong> contribution because the electron we are describing in the Kohn–Sham equation is also part of the total electron density, so part of $V_H$ involves a Coulomb interaction between the electron and itself.</p></li><li><p>The correction, $V_{XC}$, which defines <strong>exchange and correlation contributions</strong> to the single electron equations. $V_{\mathrm{XC}}(\mathbf{r})=\frac{\delta E_{\mathrm{XC}}(\mathbf{r})}{\delta n(\mathbf{r})}$</p></li><li><p>If you have a vague sense that there is something circular about our discussion of the Kohn–Sham equations you are exactly right. To solve the Kohn–Sham equations, we need to define the Hartree potential, and to define the Hartree potential we need to know the electron density. But to find the electron density, we must know the single-electron wave functions, and to know these wave functions we must solve the Kohn–Sham equations. To break this circle, the problem is usually treated in an iterative way as outlined in the following algorithm:</p><ol><li>Define an initial, trial electron density, $n(r)$.</li><li>Solve the Kohn–Sham equations defined using the trial electron density to find the single-particle wave functions, $\psi_i(r)$.</li><li>Calculate the electron density defined by the Kohn–Sham single-particle wave functions from step 2, $n_{\mathrm{KS}}(\mathbf{r})=2\sum_{i}\psi_{i}^{*}(\mathbf{r})\psi_{i}(\mathbf{r})$</li><li>Compare the calculated electron density, $n_{KS}(r)$, with the electron density used in solving the Kohn–Sham equations, $n(r)$. If the two densities are the same, then this is the ground-state electron density, and it can be used to compute the total energy. If the two densities are different, then the trial electron density must be updated in some way. Once this is done, the process begins again from step 2.</li></ol></li><li><p>We have skipped over a whole series of important details in this process</p><ul><li>How close do the two electron densities have to be before we consider them to be the same?</li><li>What is a good way to update the trial electron density?</li><li>How should we define the initial density? </li></ul></li></ul><h3 id="1-5-Exchange-correlation-functional-E-XC-psi-i"><a href="#1-5-Exchange-correlation-functional-E-XC-psi-i" class="headerlink" title="1.5 Exchange-correlation functional, $E_{XC}[\{\psi_i\}]$"></a>1.5 Exchange-correlation functional, $E_{XC}[\{\psi_i\}]$</h3><ul><li><p>Fortunately, there is one case where this functional can be derived exactly: <strong>the uniform electron gas</strong> (the electron density is constant at all points in space, $n(r) = constant$)  <strong>(approximation 3)</strong></p></li><li><p>This situation may appear to be of limited value in any real material since it is variations in electron density that define <strong>chemical bonds</strong> and generally make materials interesting.</p></li><li><p>we set the exchange–correlation potential at each position to be the known exchange–correlation potential from the uniform electron gas at the electron density observed at that position. </p><script type="math/tex; mode=display">V_{\mathrm{XC}}(\mathbf{r})=V_{\mathrm{XC}}^{\text{electron gas}}[n(\mathbf{r})]</script></li><li><p>This approximation uses only the <strong>local density</strong> to define the approximate exchange–correlation functional, so it is called the <strong>local density approximation (LDA)</strong>.</p></li><li><p>The best known class of functional after the LDA uses information about the local electron density and the local gradient in the electron density; this approach defines a <strong>generalized gradient approximation (GGA)</strong>. It is tempting to think that because the GGA includes more physical information than the LDA it must be more accurate. <strong>Unfortunately, this is not always correct</strong>.</p><ul><li>Two of the most widely used functionals in calculations <strong>involving solids</strong> are the Perdew–Wang functional <strong>(PW91)</strong> and the Perdew–Burke–Ernzerhof functional <strong>(PBE)</strong>.</li><li>Because different functionals will give somewhat different results for any particular configuration of atoms, it is necessary to specify what functional was used in any particular calculation rather than simple referring to “a DFT calculation.”</li></ul></li><li><p>Our description of GGA functionals as including information from the electron density and the gradient of this density suggests that more sophisticated functionals can be constructed that use other pieces of physical information. In fact, <strong>a hierarchy of functionals</strong> can be constructed that gradually include more and more detailed physical information.</p></li></ul><h3 id="1-6-The-Quantum-Chemistry-Tourist"><a href="#1-6-The-Quantum-Chemistry-Tourist" class="headerlink" title="1.6 The Quantum Chemistry Tourist"></a>1.6 The Quantum Chemistry Tourist</h3><ul><li><p>Localized and Spatially Extended Functions</p><ul><li><p>Spatially localized functions</p><p><img src="/images/Quantum-mechanics-Density-functional-theory/1.png" alt="Figure 1.1 Example of spatially localized functions defined in the text."></p><ul><li>Spatially localized functions are an extremely useful framework for thinking about the <strong>quantum chemistry of isolated molecules</strong> because the wave functions of isolated molecules really do decay to zero far away from the molecule.</li></ul></li><li><p>Spatially Extended functions</p><p><img src="/images/Quantum-mechanics-Density-functional-theory/2.png" alt="Figure 1.2 Example of spatially periodic functions defined in the text."></p><ul><li>We could <strong>still</strong> use spatially localized functions to describe each atom and add up these functions to describe the overall material, but this is certainly not the only way forward.<br>A useful alternative is to use <strong>periodic functions</strong> to describe the wave functions or electron densities.</li><li>This type of function is useful for describing bulk materials since at least for defect-free materials the electron density and wave function really are spatially periodic functions.</li></ul></li><li><p>Because <strong>spatially localized functions</strong> are the natural choice for <strong>isolated molecules, the quantum chemistry methods</strong> developed within <strong>the chemistry community</strong> are dominated by methods based on these functions. Conversely, because <strong>physicists</strong> have historically been more interested in <strong>bulk materials</strong> than in individual molecules, numerical methods for solving the Schrodinger equation developed in the physics community are dominated by <strong>spatially periodic functions</strong>.</p></li></ul></li><li><p>Wave-Function-Based Methods</p><ul><li>The quantity that is being calculated: <strong>electron density/the full electron wave function</strong></li><li>These wave-function-based methods hold a crucial advantage over DFT calculations in that there is a well-defined hierarchy of methods that, <strong>given infinite computer time</strong>, can converge to the exact solution of the Schrodinger equation. 😂</li><li>These wave functions must <strong>satisfy several mathematical properties</strong> exhibited by real electrons. For example, the <strong>Pauli exclusion principle</strong> prohibits two electrons with the same spin from existing at the same physical location simultaneously.</li></ul></li><li><p>Hartree-Fock Method</p><ul><li><p>We would like to approximate the wave function of N electrons. Let us assume for the moment that the electrons have no effect on each other (we simply <strong>neglect electron–electron interactions</strong>). </p></li><li><p>The Hamiltonian $H=\sum_{i=1}^Nh_i$</p></li><li><p>The Schrodinger equation $h\chi=E\chi$</p></li><li><p>The eigenfunctions - spin orbitals, $\chi_j(x_i)(j=1, 2, …)$, energy $E_j$</p></li><li><p>$x_i$ is a vector of coordinates that defines the position of electron $i$ and its spin state (up and down)</p></li><li><p>$j=1$ the lowest energy, $j=2$ next highest energy</p><script type="math/tex; mode=display">\psi(\mathbf{x}_1,\ldots,\mathbf{x}_N)=\chi_{j_1}(\mathbf{x}_1)\chi_{j_2}(\mathbf{x}_2)\cdots\chi_{j_N}(\mathbf{x}_N)</script><script type="math/tex; mode=display">E=E_{j1}+...+E_{jN}</script></li><li><p>The <strong>Hartree product does not satisfy</strong> all the important criteria for wave functions. Because electrons are fermions, the wave function must change sign if two electrons change places with each other. This is known as the antisymmetry principle. Exchanging two electrons does not change the sign of the Hartree product, which is a serious drawback.</p></li><li><p><strong>The Slater determinant</strong> - a better approximation to the <strong>wave function to spin orbitals</strong></p><ul><li><p>In a Slater determinant, the N-electron wave function is formed by combining one-electron wave functions in a way that satisfies the antisymmetry principle. This is done by expressing the overall wave function as the determinant of a matrix of single-electron wave functions.</p></li><li><script type="math/tex; mode=display">\psi(\mathbf{x}_1,\mathbf{x}_2)=\dfrac{1}{\sqrt{2}}\det\begin{bmatrix}\chi_j(\mathbf{x}_1)&\chi_j(\mathbf{x}_2)\\\chi_k(\mathbf{x}_1)&\chi_k(\mathbf{x}_1)\end{bmatrix}=\frac{1}{\sqrt{2}}\Big[\chi_j(\mathbf{x}_1)\chi_k(\mathbf{x}_1)-\chi_j(\mathbf{x}_2)\chi_k(\mathbf{x}_1)\Big].</script></li><li><p>$\dfrac{1}{\sqrt{2}}$ - a normalization factor</p></li><li><p>The Slater determinant satisfies the conditions of the Pauli exclusion principle</p><ol><li>This expression builds in a physical description of electron exchange implicitly;</li><li>It changes sign if two electrons are exchanged.</li><li>This expression has other advantages. For example, it does not distinguish between electrons and it disappears if two electrons have the same coordinates or if two of the one-electron wave functions are the same.</li></ol></li><li><p>The Slater determinant may be generalized to a system of N electrons easily; it is the determinant of an $N\times N$  matrix of single-electron spin orbitals.</p></li></ul></li><li><p>The Hartree-Fock method (<strong>the simplest approach, considering the electron–electron interactions</strong>)</p><ul><li><p>we fix the positions of the atomic nuclei and aim to determine the wave function of N-interacting electrons.</p></li><li><p>For each electron </p></li><li><script type="math/tex; mode=display">\left[-\frac{\hbar^2}{2m}\nabla^2+V(\mathbf{r})+V_H(\mathbf{r})\right]\chi_j(\mathbf{x})=E_j\chi_j(\mathbf{x})\\V_H(\mathbf{r})=e^2\int\frac{n(\mathbf{r}')}{|\mathbf{r}-\mathbf{r}'|}d^3r'</script></li><li><p>this means that a single electron “feels” the effect of <strong>other electrons only as an average</strong>, rather than feeling the instantaneous repulsive forces generated as electrons become close in space.  <strong>the average field,  the classical electrostatic potential.</strong></p></li><li><p>If you compare with the Kohn–Sham equations, you will notice that the only difference between the two sets of equations is <strong>the additional exchange–correlation potential that appears in the Kohn–Sham equations</strong>.</p></li><li><p>The HF approach assumes that the complete wave function can be approximated using <strong>a single Slater determinant</strong>. This means that the N lowest energy spin orbitals of the single-electron equation are found, $\chi_j(x)$ for $j=1,…,N$, and the total wave function is formed from the Slater determinant of these spin orbitals.</p></li><li><p>define the spin orbitals using a finite set of functions</p></li><li><script type="math/tex; mode=display">\chi_j(\mathbf{x})=\sum_{i=1}^K\alpha_{j,i}\phi_i(\mathbf{x})</script></li><li><p>When using this expression, we only need to find the expansion coefficients, $\alpha_{j,i}$, for $i=1,…,K$ and $j=1,…,N$ to fully define all the spin orbitals that are used in the HF method. The set of functions $\phi_1(x),\phi_2(x),…,\phi_K(x)$ is called the <strong>basis set</strong> for the calculation.</p></li></ul></li><li><p>We now have all the pieces in place to perform an HF calculation—a basis set in which the individual spin orbitals are expanded, the equations that the spin orbitals must satisfy, and a prescription for forming the final wave function once the spin orbitals are known. But there is one crucial complication left to deal with; one that also appeared when we discussed the Kohn–Sham equations. To find the <strong>spin orbitals</strong> we must <strong>solve the single electron equations</strong>. To define the <strong>Hartree potential</strong> in the single-electron equations, we must know <strong>the electron density</strong>. But to know the electron density, we must define <strong>the electron wave function</strong>, which is found using the <strong>individual spin orbitals</strong>! To break this circle, an HF calculation is an iterative procedure that can be outlined as follows:</p><ol><li>Make an initial estimate of the spin orbitals $\chi_j(\mathbf{x})=\sum_{i=1}^K\alpha_{j,i}\phi_i(\mathbf{x})$ by specifying the expansion coefficients, $\alpha_{j,i}$</li><li>From the current estimate of the spin orbitals, define the electron density, $n(\mathbf{r}^{\prime})$</li><li>Using the electron density from step 2, solve the single-electron equations for the spin orbitals.</li><li>If the spin orbitals found in step 3 are consistent with orbitals used in step 2, then these are the solutions to the HF problem we set out to calculate. If not, then a new estimate for the spin orbitals must be made and we then return to step 2.</li></ol></li><li><p>Questions</p><ul><li>How do we decide if two sets of spin orbitals are similar enough to be called consistent?</li><li>How can we update the spin orbitals in step 4. so that the overall calculation will actually converge to a solution?</li><li>How large should a basis set be? How can we form a useful initial estimate of the spin orbitals?</li><li>How do we efficiently find the expansion coefficients that define the solutions to the single-electron equations?</li></ul></li></ul></li><li><p>Beyond Hartree–Fock (<strong>add electron correlations</strong>) <strong>(the level of theory and the basis set)</strong></p><ul><li>The Hartree–Fock method provides an <strong>exact description of electron exchange </strong>(femions)</li><li>If HF calculations were possible using an infinitely large basis set, the energy of N electrons that<br>would be calculated is known as the <strong>Hartree–Fock limit</strong></li><li>HF, This energy is not the same as the energy for the true electron wave function because the<br>HF method does not correctly describe how electrons influence other electrons. More succinctly, the HF method does not deal with <strong>electron correlations</strong> (crucial for molecular system). $V_{XC}$</li><li>single-determinant methods<ul><li>post-Hartree-Fock methods<ul><li>configuration interaction (CI)</li><li>coupled cluster (CC)<ul><li>CCSD - coupled-cluster calculations involving excitations of single electrons (S),<br>and pairs of electrons (double—D)</li><li>CCSDT - further include excitations of three electrons (triples—T)</li></ul></li><li>Moller–Plesset perturbation theory (MP)<ul><li>adding a small perturbation (the correlation potential) to a zero order Hamiltonian (the HF Hamiltonian, usually)</li><li>a number is used to indicate the order of the perturbation theory, so MP<sub>2</sub> is the second-order theory and so on.</li></ul></li><li>the quadratic configuration interaction (QCI) approach</li></ul></li></ul></li><li>The reference wave function<ul><li>Multiconfigurational self-consistent field (MCSCF)</li><li>Multireference single and double configuration interaction (MRDCI)</li><li>N-electron valence state perturbation theory (NEVPT) methods.</li></ul></li><li>For a basis set with N functions, the computational expense<ul><li>HF: ~N<sup>4</sup></li><li>CC: ~N<sup>7</sup></li></ul></li></ul></li><li>Moreover, we will only consider methods based on <strong>spatially periodic functions</strong>—the so-called <strong>plane-wave methods</strong>. Plane-wave methods are the method of choice in almost all situations where the <strong>physical material</strong> of interest is an extended crystalline material rather than an isolated molecule.</li><li>Perhaps the main difference between DFT calculations using periodic and spatially localized functions lies in the exchange–correlation functionals that are routinely used.<ul><li>The most commonly used functionals in DFT calculations based on spatially localized basis functions are “hybrid” functionals that mix the exact results for the exchange part of the functional with approximations for the correlation part.</li><li><strong>Unfortunately,</strong> the form of the exact exchange results mean that they can be efficiently implemented for applications based on spatially localized functions but not for applications using periodic functions!</li><li>Because of this fact, the functionals that are commonly used in plane-wave DFT calculations do not include contributions from <strong>the exact exchange results.</strong></li></ul></li></ul><h3 id="1-7-What-can-DFT-not-do"><a href="#1-7-What-can-DFT-not-do" class="headerlink" title="1.7 What can DFT not do?"></a>1.7 What can DFT not do?</h3><ul><li><p>The first situation where DFT calculations have limited accuracy is in the calculation of <strong>electronic excited states</strong></p></li><li><p><strong>Underestimation of calculated band gaps</strong> in semiconducting and insulating materials</p></li><li>The DFT calculations give inaccurate results is associated with the <strong>weak van der Waals (VDW)</strong> attractions that exist between atoms and molecules.</li><li>There is one more fundamental limitation of DFT that is crucial to appreciate, and it stems from the <strong>computational expense</strong> associated with solving the mathematical problem posed by DFT.</li></ul><h3 id="1-8-Further-reading"><a href="#1-8-Further-reading" class="headerlink" title="1.8 Further reading"></a>1.8 Further reading</h3><ul><li>无机化学</li><li>结构化学基础</li><li>固体物理导论 (Introduction to solid states)</li><li>Quantum Chemistry</li><li>Electronic Structure: Basic Theory and Practical Methods</li></ul>]]></content>
      
      
      <categories>
          
          <category> Theory </category>
          
          <category> Quantum_mechanics </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Theory-Quantum_mechanics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Quantum mechanics - The Feynman lectures on physics 1</title>
      <link href="/Theory/Quantum-mechanics/Quantum-mechanics-The-Feynman-lectures-on-physics-1/"/>
      <url>/Theory/Quantum-mechanics/Quantum-mechanics-The-Feynman-lectures-on-physics-1/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Experience must be bought.<em></strong></p><p align="center"><strong><em>吃一堑, 长一智。<em></strong></p><p><strong>Updated time: 04/01 2024.</strong></p>]]></content>
      
      
      <categories>
          
          <category> Theory </category>
          
          <category> Quantum_mechanics </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Theory-Quantum_mechanics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>My blog - My summary</title>
      <link href="/Summary/My-blog/My-blog-My-summary/"/>
      <url>/Summary/My-blog/My-blog-My-summary/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>After all, tomorrow is another day!<em></strong></p><p align="center"><strong><em>不管怎样, 明天是崭新的一天!<em></strong></p><p><strong>Updated time: 04/01 2024.</strong></p><h2 id="The-other-summary-of-mine"><a href="#The-other-summary-of-mine" class="headerlink" title="The other summary of mine"></a>The other summary of mine</h2><ul><li><code>Software/Tool</code> <a href="https://shenglin1001.github.io/Software/Tool/Tool-My-Summary/">summary</a></li><li><code>Software/VASP/VTheory/Classical literatures</code> <a href="https://shenglin1001.github.io/Software/VASP/VTheory/VASP-VTheory-Classical-literatures/">summary</a></li><li><p><code>Theory/Quantum mechanics/some websites and books</code> <a href="https://shenglin1001.github.io/Theory/Quantum-mechanics/Quantum-mechanics-some-website-and-book/">summary</a></p></li><li><p><code>Summary/My blog/Shortcut command</code> <a href="https://shenglin1001.github.io/Summary/My-blog/My-blog-Shortcut-command/">summary</a></p></li><li><p><code>Summary/Other people blog/computational material science</code> <a href="https://shenglin1001.github.io/Summary/Other-people-blog/Other-people-blog-computational-material-science/">summary</a></p></li><li><p><code>Summary/literary</code> summary</p></li><li><code>Summary/My blog/My summary</code> <strong>This article</strong></li></ul><ul><li><p><code>Thinking/Diary/Writing at first</code> <a href="https://shenglin1001.github.io/Thinking/Diary/Diary-Writing-at-first/">summary</a></p></li><li><p><code>Thinking/Diary/I want to do now(keep updating)</code> <a href="https://shenglin1001.github.io/Thinking/Diary/Diary-I-want-to-do-now-keep-updating/">summary</a></p></li><li><p><code>Thinking/Diary/How to do my research</code> <a href="https://shenglin1001.github.io/Thinking/Diary/Diary-How-to-do-my-research/">summary</a></p></li></ul><h2 id="About-Computational-Material-Science"><a href="#About-Computational-Material-Science" class="headerlink" title="About Computational Material Science"></a>About Computational Material Science</h2><p>updating</p><p>unit convert website</p>]]></content>
      
      
      <categories>
          
          <category> Summary </category>
          
          <category> My_blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Summary-My_blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VASP - VTheory - Classical literatures</title>
      <link href="/Software/VASP/VTheory/VASP-VTheory-Classical-literatures/"/>
      <url>/Software/VASP/VTheory/VASP-VTheory-Classical-literatures/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>A man can do no more than he can.<em></strong></p><p align="center"><strong><em>量力而行<em></strong></p><p><strong>Updated time: 03/30 2024.</strong></p><h2 id="Write-at-first"><a href="#Write-at-first" class="headerlink" title="Write at first"></a><strong>Write</strong> at first</h2><p>It’s a blog about the theoretical background of VASP or any DFT software.</p><p>The resource has below ways:</p><ul><li>classical literature (high impact factor)</li><li>VASP-Wiki</li><li>some professional books have been categorized as <a href="https://shenglin1001.github.io/Theory/Quantum-mechanics/Quantum-mechanics-some-website-and-book/"><code>Theory/Quantum mechanics/some websites and books</code></a> </li><li>some literatures maybe not so classical, but could help me understand the flowchart of DFT calculation</li><li>other resource from other people’s blog or websites (see <a href="https://shenglin1001.github.io/Summary/Other-people-blog/Other-people-blog-My-summary/"><code>Summary/other_people_blog/my_summary</code></a>)</li></ul><h2 id="The-classical-literature-see-Endnote-DFT-HCP-Au-DFT-classical"><a href="#The-classical-literature-see-Endnote-DFT-HCP-Au-DFT-classical" class="headerlink" title="The classical literature (see Endnote: DFT-HCP-Au/DFT classical)"></a>The classical literature (see <code>Endnote: DFT-HCP-Au/DFT classical</code>)</h2><ol><li><p>Kresse G, Hafner J. <strong>AB-INITIO MOLECULAR-DYNAMICS FOR OPEN-SHELL TRANSITION-METALS</strong>. Physical Review B 1993, 48(17): 13115-13118.</p></li><li><p>Kresse G, Furthmuller J. <strong>Efficiency of ab-initio total energy calculations for metals and semiconductors using a plane-wave basis set.</strong> Computational Materials Science 1996, 6(1): 15-50.  <strong><font color='red'>(#plane-wave-basis-set)</font></strong></p></li><li><p>Kresse G, Furthmuller J. <strong>Efficient iterative schemes for ab initio total-energy calculations using a plane-wave basis set.</strong> Physical Review B 1996, 54(16): 11169-11186.   <strong><font color='red'>(#MP-K-Points)</font></strong></p></li><li><p>Kresse G, Joubert D. <strong>From ultrasoft pseudopotentials to the projector augmented-wave method</strong>. Physical Review B 1999, 59(3): 1758-1775.  <strong><font color='red'>(#PAW)</font></strong></p></li><li><p>Perdew JP, Burke K, Ernzerhof M. <strong>Generalized gradient approximation made simple</strong> (vol 77, pg 3865, 1996). Physical Review Letters 1997, 78(7): 1396-1396.  <strong><font color='red'>(#GGA-functional #PBE)</font></strong></p></li><li><p>Heyd J, Scuseria GE, Ernzerhof M. <strong>Hybrid functionals based on a screened Coulomb potential.</strong> Journal of Chemical Physics 2003, 118(18): 8207-8215. <strong><font color='red'>(# Hybrid-functional)</font></strong></p></li><li><p>Blöchl PE, Först CJ, Schimpl J. <strong>Projector augmented wave method:: <i>ab initio</i> molecular dynamics with full wave functions</strong>. Bulletin of Materials Science 2003, 26(1): 33-41. <strong><font color='red'>(#PAW)</font></strong></p></li><li><p>Blochl PE. <strong>PROJECTOR AUGMENTED-WAVE METHOD</strong>. Physical Review B 1994, 50(24): 17953-17979.  <strong><font color='red'>(#PAW)</font></strong></p></li><li><p>Kohn W, Sham LJ. <strong>Self-Consistent Equations Including Exchange and Correlation Effects</strong>. Physical Review 1965, 140(4A): A1133-A1138.</p></li><li><p>Monkhorst HJ, Pack JD. <strong>SPECIAL POINTS FOR BRILLOUIN-ZONE INTEGRATIONS</strong>. Physical Review B 1976, 13(12): 5188-5192. <strong><font color='red'>(#MP-methods)</font></strong></p></li></ol><h2 id="VASP-Wiki"><a href="#VASP-Wiki" class="headerlink" title="VASP-Wiki"></a>VASP-Wiki</h2><ul><li><a href="https://www.vasp.at/wiki/index.php/Category:Exchange-correlation_functionals">Exchange-correlation functionals</a></li></ul><h2 id="professional-books"><a href="#professional-books" class="headerlink" title="professional books"></a>professional books</h2><p>See <a href="https://shenglin1001.github.io/Theory/Quantum-mechanics/Quantum-mechanics-some-website-and-book/"><code>Theory/Quantum mechanics/some websites and books</code></a> </p><h2 id="Other-literatures"><a href="#Other-literatures" class="headerlink" title="Other literatures"></a>Other literatures</h2><ol><li><p>Hafner J. <strong>Ab-initio simulations of materials using VASP: Density-functional theory and beyond</strong>. J Comput Chem 2008, 29(13): 2044-2078.</p></li><li><p>Grimme S. <strong>Density functional theory with London dispersion corrections</strong>. WIREs Computational Molecular Science 2011, 1(2): 211-228.</p></li><li><p>Perdew JP, Ruzsinszky A, Csonka GI, et al. <strong>Restoring the Density-Gradient Expansion for Exchange in Solids and Surface</strong>s. Physical Review Letters 2008, 100(13).</p></li></ol><h2 id="Other-resource"><a href="#Other-resource" class="headerlink" title="Other resource"></a>Other resource</h2><p>see <a href="https://shenglin1001.github.io/Summary/Other-people-blog/Other-people-blog-My-summary/"><code>Summary/other_people_blog/my_summary</code></a></p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> VASP </category>
          
          <category> VTheory </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-VASP-VTheory </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tool - Summary</title>
      <link href="/Software/Tool/Tool-My-Summary/"/>
      <url>/Software/Tool/Tool-My-Summary/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Knowledge starts with practice.<em></strong></p><p align="center"><strong><em>实践出真知<em></strong></p><p><strong>Updated time: 03/30 2024.</strong></p><h2 id="Write-the-first"><a href="#Write-the-first" class="headerlink" title="Write the first"></a>Write the first</h2><p>It’s for add some interesting tools that I interested in but not used.</p><p>Not only software, also some GitHub stars.</p><h2 id="Interesting-Tools-see-Endnote-DFT-HCP-Au-Tools"><a href="#Interesting-Tools-see-Endnote-DFT-HCP-Au-Tools" class="headerlink" title="Interesting Tools (see Endnote: DFT-HCP-Au/Tools)"></a>Interesting Tools (see <code>Endnote: DFT-HCP-Au/Tools</code>)</h2><h3 id="ASE"><a href="#ASE" class="headerlink" title="ASE"></a>ASE</h3><ul><li><p><strong>Article:</strong> The atomic simulation environment-a Python library for working with atoms (see <code>Endnote</code>)</p></li><li><p><strong>Website:</strong> <a href="https://wiki.fysik.dtu.dk/ase/index.html">ASE</a></p></li></ul><h3 id="SeeK-path"><a href="#SeeK-path" class="headerlink" title="SeeK-path"></a>SeeK-path</h3><ul><li><strong>Article:</strong> Band structure diagram paths based on crystallography (see <code>Endnote</code>)</li><li><strong>Functions:</strong><ul><li>the k-path finder and visualizer</li></ul></li></ul><h3 id="VASPKIT"><a href="#VASPKIT" class="headerlink" title="VASPKIT"></a>VASPKIT</h3><ul><li><strong>Article:</strong> VASPKIT: A user-friendly interface facilitating high-throughput computing and analysis using VASP code (see <code>Endnote</code>)</li></ul><h3 id="ElasTool-update-to-3-0"><a href="#ElasTool-update-to-3-0" class="headerlink" title="ElasTool (update to 3.0)"></a>ElasTool (update to 3.0)</h3><ul><li><p><strong>Article:</strong></p><ul><li>ElasTool: An automated toolkit for elastic constants calculation (see <code>Endnote</code>)</li><li>ELASTOOL V3.0: Efficient computational and visualization toolkit for elastic and mechanical properties of materials (see <code>Endnote</code>)</li></ul></li><li><p><strong>Source code:</strong> <a href="https://github.com/gmp007/elastool">GitHub</a></p></li><li><strong>Description:</strong> <a href="https://mp.weixin.qq.com/s/29rqYa3k6iQjcHXwe3KOwA">WeiXin</a></li></ul><h3 id="Automatic-Flow-AFLOW-ACONVASP"><a href="#Automatic-Flow-AFLOW-ACONVASP" class="headerlink" title="Automatic Flow, AFLOW/ACONVASP"></a>Automatic Flow, AFLOW/ACONVASP</h3><ul><li><strong>Article:</strong> High-throughput electronic band structure calculations: Challenges and tools (see <code>Endnote</code>)</li><li><strong>Function:</strong><ul><li>The article give some example of momentum space for lots of bravais lattice.</li></ul></li></ul><h3 id="NLMD"><a href="#NLMD" class="headerlink" title="NLMD"></a>NLMD</h3><ul><li><strong>Article:</strong> MLMD: a programming-free AI platform to predict and design materials (see <code>Endnote</code>)</li><li><strong>Source code:</strong> <ul><li><a href="https://github.com/Jiaxuan-Ma/MLMD">NLMD</a> </li><li><a href="https://github.com/Bin-Cao/Bgolearn">Bgolearn</a> - Active learning package</li></ul></li><li><strong>Description:</strong> <a href="https://mp.weixin.qq.com/s/xvtH0k1GKPQspNP2CLR6fg">WeiXin</a></li></ul><h3 id="SurFlow"><a href="#SurFlow" class="headerlink" title="SurFlow"></a>SurFlow</h3><ul><li><strong>Article:</strong> SurfFlow: High-throughput surface energy calculations for arbitrary crystals (see <code>Endnote</code>)</li><li><strong>Source code:</strong> <a href="https://github.com/ShengLin1001/surfflow">GitHub</a></li><li><strong>Description:</strong> <a href="https://mp.weixin.qq.com/s/LbEcw69Cm3sFEZvF7P4afQ">WeiXin</a></li></ul><h3 id="SMATool"><a href="#SMATool" class="headerlink" title="SMATool"></a>SMATool</h3><ul><li><strong>Article:</strong> SMATOOL: Strength of materials analysis toolkit  (see <code>Endnote</code>)</li><li><strong>Source code:</strong>  <a href="https://github.com/gmp007/smatool">Github</a></li><li><strong>Description:</strong> <a href="https://mp.weixin.qq.com/s/scozTK_PvAuH9MGTO8y1AA">WeiXin</a></li></ul><h2 id="Building-heterostructure"><a href="#Building-heterostructure" class="headerlink" title="Building heterostructure"></a>Building heterostructure</h2><h3 id="Hetbuilder"><a href="#Hetbuilder" class="headerlink" title="Hetbuilder"></a>Hetbuilder</h3><ul><li><p><strong>Algorithm:</strong> <strong>Coincidence lattices</strong></p></li><li><p><strong>Source code:</strong> <a href="https://github.com/romankempt/hetbuilder">Github</a>, <a href="https://github.com/hongyi-zhao/hetbuilder">revised version</a></p></li><li><p><strong>Document:</strong> <a href="https://hetbuilder.readthedocs.io/en/latest/index.html">Page</a></p></li></ul><h3 id="Hetero2D"><a href="#Hetero2D" class="headerlink" title="Hetero2D"></a>Hetero2D</h3><ul><li><strong>Article:</strong> Computational synthesis of 2D materials: A high-throughput approach to materials design (see <code>Endnote</code>)</li><li><strong>Source code:</strong> <a href="https://github.com/cmdlab/Hetero2d">Github</a></li><li><p><strong>Document:</strong> <a href="https://cmdlab.github.io/Hetero2d/html/index.html">Page</a></p></li><li><p><strong>Description:</strong> low-lattice mismatched hetero-structures for arbitrary 2D materials and substrate surfaces</p></li></ul><h3 id="VASPKIT-CUP"><a href="#VASPKIT-CUP" class="headerlink" title="VASPKIT_CUP"></a>VASPKIT_CUP</h3><ul><li><strong>Source code:</strong> <a href="https://github.com/vaspkit/1st_VASPKIT_CUP">Github</a></li></ul><h3 id="Structure-Tool-maybe-useless"><a href="#Structure-Tool-maybe-useless" class="headerlink" title="Structure Tool (maybe useless)"></a>Structure Tool (maybe useless)</h3><ul><li><strong>Source code:</strong> <a href="https://github.com/pmirabedini/Structure_Toolbox">Github</a></li></ul><h3 id="Interface-master"><a href="#Interface-master" class="headerlink" title="Interface_master"></a>Interface_master</h3><ul><li>Source code: <a href="https://github.com/ShengLin1001/interface_master">Github</a></li><li>Article: A brute-force code searching for cell of non-identical displacement for CSL grain boundaries and interfaces  (see <code>Endnote</code>)</li><li>Description: Find heterostructure and shift in plane to search a minimal energy configuration</li></ul><h3 id="OgreInterface"><a href="#OgreInterface" class="headerlink" title="OgreInterface"></a>OgreInterface</h3><ul><li>Source code: <a href="https://github.com/ShengLin1001/OgreInterface">Github</a></li><li>Description: Package for creating and optimizing lattice matched and domain matched epitaxial interfaces.</li></ul><h3 id="ASE-Pymatgen"><a href="#ASE-Pymatgen" class="headerlink" title="ASE / Pymatgen"></a>ASE / Pymatgen</h3><ul><li>Issues: <a href="https://github.com/ShengLin1001/PJ-advanced-reasearch/issues/1">Github</a></li></ul><h2 id="About-heterostructure"><a href="#About-heterostructure" class="headerlink" title="About heterostructure"></a>About heterostructure</h2><h3 id="Epitaxy"><a href="#Epitaxy" class="headerlink" title="Epitaxy"></a>Epitaxy</h3><ul><li><p><strong>Source code:</strong> <a href="https://github.com/Vnyk121098/Epitaxy">Github</a></p></li><li><p><strong>Description:</strong> The objective of this project is to write a Python code for identifying a suitable crystal substrate which shows least lattice mismatch for a film crystal</p></li></ul><h3 id="2D-Elastic-Properties"><a href="#2D-Elastic-Properties" class="headerlink" title="2D Elastic Properties"></a>2D Elastic Properties</h3><ul><li><strong>Source code:</strong> <a href="https://github.com/gmp007/2D_Elastic-Properties">Github</a></li><li><strong>Description:</strong> Computational Design and Analysis of Mechanical Properties of 2D Materials &amp; Heterostructures</li></ul><h2 id="Python-and-DFT"><a href="#Python-and-DFT" class="headerlink" title="Python and DFT"></a>Python and DFT</h2><h3 id="QMC-DFT-Python"><a href="#QMC-DFT-Python" class="headerlink" title="QMC DFT Python"></a>QMC DFT Python</h3><ul><li><strong>Source code:</strong> <a href="https://github.com/kayahans/qmc-dft-python">Github</a></li><li><strong>Description:</strong> QMC-DFT-Python is a lightweight open-source code for scientists and enthusiasts to understand the basic concepts behind the implementations of most popular electronic structure calculation method: Density Functional Theory (DFT) and also quantum Monte carlo (QMC).</li></ul><h2 id="Re-compile-VASP"><a href="#Re-compile-VASP" class="headerlink" title="Re-compile VASP"></a>Re-compile VASP</h2><h3 id="VASP-OPT-AXIS"><a href="#VASP-OPT-AXIS" class="headerlink" title="VASP OPT AXIS"></a>VASP OPT AXIS</h3><ul><li><strong>Source code:</strong> <a href="https://github.com/Chengcheng-Xiao/VASP_OPT_AXIS">Github</a></li></ul><h2 id="Model-tools"><a href="#Model-tools" class="headerlink" title="Model tools"></a>Model tools</h2><h3 id="VASPKIT-1"><a href="#VASPKIT-1" class="headerlink" title="VASPKIT"></a>VASPKIT</h3><ul><li><strong>Source code:</strong> <a href="https://vaspkit.com/">VASPKIT</a></li></ul><h3 id="ATOMKIT"><a href="#ATOMKIT" class="headerlink" title="ATOMKIT"></a>ATOMKIT</h3><ul><li><strong>Source code:</strong> <a href="https://vaspkit.com/atomkit.html">ATOMKIT</a></li></ul><h3 id="atomsk"><a href="#atomsk" class="headerlink" title="atomsk"></a>atomsk</h3><ul><li><p><strong>Source code:</strong> <a href="https://github.com/pierrehirel/atomsk">Github</a></p></li><li><p><strong>Description:</strong> For metal, alloy, poly, dislocation, cenvert cell</p></li></ul><h2 id="Space-group"><a href="#Space-group" class="headerlink" title="Space group"></a>Space group</h2><h3 id="Spglib"><a href="#Spglib" class="headerlink" title="Spglib"></a>Spglib</h3><ul><li><strong>Article:</strong> Spglib: a software library for crystal symmetry search (see <code>Endnote</code>)</li><li><strong>Functions:</strong><ul><li>Could convert between primitive &lt;&lt;==&gt;&gt; conventional cell</li></ul></li></ul><h3 id="CrystKit"><a href="#CrystKit" class="headerlink" title="CrystKit"></a>CrystKit</h3><ul><li><strong>Source code:</strong> <a href="https://github.com/hongyi-zhao/CrystKit">Github</a></li><li><strong>Description:</strong> CrystKit is a GAP package designed to manipulate and analyze crystallographic groups</li></ul>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mymetal - error</title>
      <link href="/Developing/Mymetal/Mymetal-error/"/>
      <url>/Developing/Mymetal/Mymetal-error/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Time flies.<em></strong></p><p align="center"><strong><em>光阴似箭<em></strong></p><p><strong>Updated time: 03/30 2024.</strong></p><h2 id="Some-fixing-error-and-unfilled-code"><a href="#Some-fixing-error-and-unfilled-code" class="headerlink" title="Some fixing error and unfilled code"></a>Some fixing error and unfilled code</h2><h3 id="when-i-run-the-test-post-py-i-found-the-output-file-has-been-generated-in-the-root-directory-of-pjvasp-package"><a href="#when-i-run-the-test-post-py-i-found-the-output-file-has-been-generated-in-the-root-directory-of-pjvasp-package" class="headerlink" title="when i run the test-post/*.py, i found the output file has been generated in the root directory of pjvasp_package"></a>when i run the test-post/*.py, i found the output file has been generated in the root directory of pjvasp_package</h3><p>we should add flowing python commands</p><pre><code class="lang-shell">import os# get the path of those scriptscript_dir = os.path.dirname(__file__)# set the working pathos.chdir(script_dir)</code></pre><p>Ok, avoid to use it in root directory. To be safe, use it in user file.</p>]]></content>
      
      
      <categories>
          
          <category> Developing </category>
          
          <category> Mymetal </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Developing-Mymetal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mymetal - work log</title>
      <link href="/Developing/Mymetal/Mymetal-log/"/>
      <url>/Developing/Mymetal/Mymetal-log/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>He knows most who speaks least.<em></strong></p><p align="center"><strong><em>大智若愚<em></strong></p><p><strong>Updated time: 03/30 2024.</strong></p><h2 id="About-Mymetal"><a href="#About-Mymetal" class="headerlink" title="About Mymetal"></a>About Mymetal</h2><p>Please read <a href="https://github.com/ShengLin1001/pjvasp_package/blob/main/README.md">this page</a> first, here are the install methods using python supported by some dependent packages.</p><p>It’s a package for DFT calculations specially of thin metal film supported or not.</p><h2 id="Focus-on-some-functions"><a href="#Focus-on-some-functions" class="headerlink" title="Focus on some functions"></a>Focus on some functions</h2><p>The initial reason of constructing this package is better understanding the DFT or VASP, and how to generate the irreducible K-points.</p><p>To solve this question, we need to …</p><ul><li><p>convert from real space to momentum / reciprocal space (has been done using Matlab)</p></li><li><p>generate reducible K-points (has been done using Matlab)</p></li><li>identify the symmetry of model</li><li>generate irreducible K-points</li></ul><p>And then, I should use python to execute postprocess for output file.</p><p>Based on the below reason, the main function is (although not be fully developed):</p><ul><li><p>preprocess</p><ul><li><p>film</p><ul><li>generate film</li><li>unixial / bixial stretch film </li><li>add hydroxylated atoms: OH, H, any molecular</li><li>construct the heterostructure</li></ul></li><li><p>universal</p><ul><li>convert model : primitive cell &lt;&lt;==&gt;&gt; conventional cell</li></ul></li></ul></li><li><p>postprocess: grep something from OUTCAR</p></li></ul><h2 id="Some-fixing-error-and-unfilled-code"><a href="#Some-fixing-error-and-unfilled-code" class="headerlink" title="Some fixing error and unfilled code"></a>Some fixing error and unfilled code</h2><p>fixing error please see <a href="">another blog</a> <code>Mymetal/error</code>.</p><h3 id="unfilled-code"><a href="#unfilled-code" class="headerlink" title="unfilled code"></a>unfilled code</h3><pre><code class="lang-shell">root/create_package.py generate the structure of packagebuild/extrfilm.pyuniversal/printafter.py</code></pre><h2 id="Work-logs"><a href="#Work-logs" class="headerlink" title="Work logs"></a>Work logs</h2><h3 id="before-03-30-2024"><a href="#before-03-30-2024" class="headerlink" title="before 03/30 2024."></a>before 03/30 2024.</h3><ul><li>add functions (<code>hydroxylated / stretch/ post</code>) and text them, success! Congratulations!</li><li>Next: <ul><li>add function to <a href="http://staff.ustc.edu.cn/~zqj/posts/howto-plot-brillouin-zone/">plot the FBZ</a></li><li>search for the heterostructure contained film and substrate</li><li>compared add_hydroxylated function and <a href="https://wiki.fysik.dtu.dk/ase/tutorials/db/db.html">add_adsorbate</a> function, maybe we can combine them to achieve the goal that adsorb the molecular to substrate. Now we only could adsorb H atom to them.</li></ul></li></ul><h3 id="04-02-2024"><a href="#04-02-2024" class="headerlink" title="04/02 2024."></a>04/02 2024.</h3><ul><li>Please add the Pymatgen package</li></ul>]]></content>
      
      
      <categories>
          
          <category> Developing </category>
          
          <category> Mymetal </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Developing-Mymetal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Quantum mechanics - some websites and books</title>
      <link href="/Theory/Quantum-mechanics/Quantum-mechanics-some-website-and-book/"/>
      <url>/Theory/Quantum-mechanics/Quantum-mechanics-some-website-and-book/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>There is no royal road to lerning<em></strong></p><p align="center"><strong><em>书山有路勤为径,学海无涯苦作舟。<em></strong></p><p><strong>Updated time: 03/30 2024.</strong></p><p>Please don’t treat these books as golden rules.</p><p>Everything, everyone could make some faults.</p><p>And before reading this book, try to take some questions and answer them.</p><h2 id="Some-professional-paper-books-that-I-have"><a href="#Some-professional-paper-books-that-I-have" class="headerlink" title="Some professional paper books that I have"></a>Some professional paper books that I have</h2><p><strong>Highlight</strong> - important resource</p><p><font color='red'>Red</font> - now I want to read</p><p><font color='orange'>Orange</font> - has been read some part</p><p><font color='cornflowerblue'>cornflower blue</font> - want to skim-read </p><h3 id="Material-science"><a href="#Material-science" class="headerlink" title="Material science"></a>Material science</h3><ul><li><font color='orange'>**固体物理导论**</font> </li><li><font color='orange'>**费曼物理学讲义**</font></li><li><strong>材料科学基础</strong></li><li>材料学的纳米尺度计算模拟</li><li><font color='red'>**密度泛函理论**</font> </li><li><font color='red'>**固体与表面**</font></li><li><font color='red'>**金属物理学**</font></li><li><strong><font color='red'>Introduction of dislocation, Fifth Edition, D. Hull and D. J. Bacon</font></strong></li></ul><h3 id="Mechanics"><a href="#Mechanics" class="headerlink" title="Mechanics"></a>Mechanics</h3><ul><li><strong><font color='orange'>弹性力学变分原理引论</font></strong></li></ul><h2 id="Some-websites-about-lecture-or-electrical-books"><a href="#Some-websites-about-lecture-or-electrical-books" class="headerlink" title="Some websites about lecture or electrical books"></a>Some websites about lecture or electrical books</h2><ul><li><strong><a href="https://nb.bohrium.dp.tech/courses/detail/2045298137?tab=courses"><font color='red'>Notebook - 计算材料学：从算法原理到代码实现</font></a></strong></li><li><a href="https://space.bilibili.com/1111135013?spm_id_from=333.337.0.0">Video - 计算材料学：从算法原理到代码实现</a></li><li><strong><a href="https://space.bilibili.com/1111135013/channel/seriesdetail?sid=3067011"><font color='red'>Video - 单斌 - 《量子力学》课程</font></a></strong></li><li><a href="http://staff.ustc.edu.cn/~zqj/teaching/">PPT of lecture: Solid State Physics A</a> </li><li>Handouts: 中科大电子结构理论与计算 (see <code>Endnote: /material science/ theory</code>)</li><li><strong><a href="https://www.vasp.at/wiki/index.php/Category:Theory">VASP Wiki</a></strong> - Of course, the VASP wiki give some brief introduction about theoretical background (see <code>category: Software/ VASP/ theory</code>)</li><li><a href="https://www.feynmanlectures.caltech.edu/"><strong>The Feyman Lectures on physics</strong></a> - <strong>VVVVery Nice website!!!!</strong></li></ul><h3 id="electrical-books-of-material-and-surface-science-see-endnote-material-science-theory"><a href="#electrical-books-of-material-and-surface-science-see-endnote-material-science-theory" class="headerlink" title="electrical books of material and surface science(see endnote /material science/ theory)"></a>electrical books of material and surface science(see endnote /material science/ theory)</h3><ul><li><strong><a href="https://books.google.ru/books/about/Quantum_Chemistry.html?id=ht6jMQEACAAJ&amp;redir_esc=y"><font color='red'>Quantum Chemistry (7ed, Levine, 2014)</font></a></strong></li><li>Electronic Structure (K. Horn and M. Scheffler) - about <strong>surface</strong></li><li><strong><font color='red'>Density Functional Theory - A Practical Introduction</font></strong> (D. S. SHOLL and J. A. STECKEL) - The original version of paper book <strong>固体与表面</strong></li><li><strong><font color='cornflowerblue'>结构化学基础</font></strong> (周公度 段连运)</li><li><strong><font color='cornflowerblue'>无机化学</font></strong> (吉林大学)</li><li>resource of 电子结构 from DFT 砥砺前行 - QQ group</li><li>Surface Science - An Introduction. K.Oura V. G. Lifshits A. A. Saranin A. V. Zotov M. Katayama</li><li>Theoretical Surface Science - Axel GroB</li><li><strong>Electronic Structure: Basic Theory and Practical Methods, Richard M. Martin</strong></li><li><strong>Introduction to solid states physics, and solution manual</strong></li></ul>]]></content>
      
      
      <categories>
          
          <category> Theory </category>
          
          <category> Quantum_mechanics </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Theory-Quantum_mechanics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Diary - I want to do now (keep updating)</title>
      <link href="/Thinking/Diary/Diary-I-want-to-do-now-keep-updating/"/>
      <url>/Thinking/Diary/Diary-I-want-to-do-now-keep-updating/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Life is a long relay race, sometimes leading, sometimes lagging behind, no matter how it ends, just enjoy the process!<em></strong></p><p align="center"><strong><em>人生是一场漫长的接力赛，有时领先，有时落后，不管结局怎样，享受过程就好！<em></strong></p><p><strong>Updated time: 04/01 2024.</strong></p><h2 id="Keep-updating"><a href="#Keep-updating" class="headerlink" title="Keep updating"></a>Keep updating</h2><ul><li>column about python - DFT calculation</li><li>metal developing log</li><li>research - Au film</li><li>literary</li><li>theory book/website</li></ul><h2 id="04-02-2024"><a href="#04-02-2024" class="headerlink" title="04/02 2024."></a>04/02 2024.</h2><ul><li>add the Pymatgen package</li><li>add the matlab code to Mymetal I have done</li><li>read the future reading list</li></ul><h2 id="04-01-2024"><a href="#04-01-2024" class="headerlink" title="04/01 2024."></a>04/01 2024.</h2><p>I‘ll keep read those books:</p><ul><li>材料学的纳米尺度计算模拟</li><li>密度泛函理论 (<strong>Density Functional Theory A Practical Introduction</strong>)</li><li>固体与表面</li><li>Quantum Chemistry/ <strong>Electronic Structure: Basic Theory and Practical Methods</strong></li></ul><p>And the best learning method is to doing some calculation about them.</p><p>Another job is to collect the 《<a href="https://www.feynmanlectures.caltech.edu/"><strong>The Feynman’s Lectures on Physics</strong></a>》</p><h2 id="03-30-2024"><a href="#03-30-2024" class="headerlink" title="03/30 2024."></a>03/30 2024.</h2><p>I’ll add the content below ASAP :</p><ul><li><font color='cornflowerblue'>My summary about some useful function website, Github, unit convert website, special website about some specified function to `My blog - My summary` => Done</font></li><li><font color='cornflowerblue'>Note other blog is about my experience, but the below blog'll included all content like other people's summary blog</font></li><li>Create a blog to add everything I am interested in</li><li>The literary on WeiXin could be added the category <code>Summary/Literary/skimming or intensive reading</code>, and we need to create some literary tag</li><li><font color='cornflowerblue'>Add some VASP theoretical like some classical literatures to `Software/VASP/theory` => Done</font></li></ul><p>I’ll do some work about my scientific research:</p><ul><li>find a website/notebook that could execute the DFT calculation from the first step.</li><li>sbatch some jobs of the structure optimization for the primitive cell of the bulk HCP/FCC gold.</li><li>generate the heterostructures using my package  </li></ul><h2 id="03-29-2024"><a href="#03-29-2024" class="headerlink" title="03/29 2024."></a>03/29 2024.</h2><p>I’ll add the content below ASAP :</p><ul><li><font color='cornflowerblue'>some tools => Done</font></li><li><font color='cornflowerblue'>some my zhihu text => 100%</font></li><li><font color='red'>deal with Wechat text => 0%</font></li><li><font color='cornflowerblue'>Theoretical website resource => Done</font></li><li><font color='cornflowerblue'>Developing package mymetal => Done</font></li></ul>]]></content>
      
      
      <categories>
          
          <category> Thinking </category>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thinking-Diary </tag>
            
            <tag> Thinking-Idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Other people blog - computational material science</title>
      <link href="/Summary/Other-people-blog/Other-people-blog-computational-material-science/"/>
      <url>/Summary/Other-people-blog/Other-people-blog-computational-material-science/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Learn from others to refine oneself<em></strong></p><p align="center"><strong><em>他山之石，可以攻玉<em></strong></p><p><strong><em>Updated time: 03/29 2024.</em></strong></p><h1 id="The-famous-experts’-website"><a href="#The-famous-experts’-website" class="headerlink" title="The famous experts’ website"></a>The famous experts’ website</h1><h2 id="Official-website"><a href="#Official-website" class="headerlink" title="Official website"></a>Official website</h2><ul><li><a href="https://www.chemie.uni-bonn.de/grimme/de/grimme">Prof. Dr. Stefan Grimme</a></li><li><a href="https://cmp.univie.ac.at/people/professors/georg-kresse/">Prof. Dr. Georg Kresse</a></li><li><a href="https://people.epfl.ch/william.curtin/?lang=en">Prof. Dr. William Curtin</a></li></ul><h2 id="Summary-weblogs"><a href="#Summary-weblogs" class="headerlink" title="Summary weblogs"></a>Summary weblogs</h2><ul><li><a href="https://blog.shishiruqi.com/2019/05/01/resources/">世事如棋</a></li><li><a href="https://www.bigbrosci.com/">大师兄 - Learn VASP the hard way</a><ul><li>包含一部分表面弛豫的知识</li></ul></li><li>学术之友<ul><li><a href="https://zhuanlan.zhihu.com/p/62573921">学术之友以及其它公众号理论计算经验贴收集(长期更新)</a></li><li><a href="https://zhuanlan.zhihu.com/p/62864134">Some Useful Scripts From GitHub (Updated)</a></li><li><a href="https://zhuanlan.zhihu.com/p/651210002">网上磁性优质视频和文字教程汇总</a></li><li><a href="https://zhuanlan.zhihu.com/p/80717032">GitHub上机器学习、正则表达式、VIM等学习资料</a></li><li><a href="https://zhuanlan.zhihu.com/p/74686906">以最便宜的方式学会第一性原理计算(免费和收费系列集锦)</a></li></ul></li><li><a href="https://www.vasp.at/wiki/index.php/Welcome">How to study VASP</a></li><li><strong><a href="https://www.bilibili.com/read/cv5372020/?spm_id_from=333.999.0.0">啦啦黑还黑</a></strong></li></ul><h2 id="columns"><a href="#columns" class="headerlink" title="columns"></a>columns</h2><ul><li><a href="https://www.zhihu.com/people/obaica/columns">学术之友</a></li><li><a href="https://www.zhihu.com/column/c_1680331980414226432">固体物理&amp;量子化学&amp;DFT my column</a> 😊</li></ul><h2 id="Other-people’s-blog-except-below-mentioned-bloger"><a href="#Other-people’s-blog-except-below-mentioned-bloger" class="headerlink" title="Other people’s blog (except below mentioned bloger)"></a>Other people’s blog (except below mentioned bloger)</h2><ul><li><a href="http://sobereva.com/">卢天</a></li><li><a href="http://staff.ustc.edu.cn/~zqj/">郑奇靖</a><ul><li>PPT of lecture: Solid State Physics A</li><li>How to Plot the First Brillouin Zone</li><li>Band Unfolding Tutorial</li></ul></li></ul><h1 id="Useful-using-website"><a href="#Useful-using-website" class="headerlink" title="Useful using website"></a>Useful using website</h1><h2 id="Todo-list"><a href="#Todo-list" class="headerlink" title="Todo list"></a>Todo list</h2><ul><li><a href="https://workona.com/0/">workona</a></li></ul><h2 id="Computational-material-science"><a href="#Computational-material-science" class="headerlink" title="Computational material science"></a>Computational material science</h2><ul><li><p><a href="http://bbs.keinsci.com/forum.php">计算化学公社</a></p></li><li><p><a href="http://bbs.vaspkit.cn/">vaspkit forum</a></p></li><li><p><a href="https://legacy.materialsproject.org/">materials project</a></p></li><li><p>some QQ group and webchat (计算凝聚态物理, DFT 计算杂谈, ferroelectrics, 研之成理, 学术之友, 深度势能, 力学人)</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Summary </category>
          
          <category> Other_people_blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Summary-Other_people_blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Diary - How to do my research</title>
      <link href="/Thinking/Diary/Diary-How-to-do-my-research/"/>
      <url>/Thinking/Diary/Diary-How-to-do-my-research/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>世界很喧闹，我不慌，不忙，不焦虑。<em></strong></p><p align="center"><strong><em>The world is noisy and I'm not flustered, busy or anxious.<em></strong></p><p><strong>Updated time: 03/29. 2024</strong></p><h2 id="Main-focus"><a href="#Main-focus" class="headerlink" title="Main focus"></a>Main focus</h2><p>To integrating everything that I’m interested in.</p><p>I want to be a man of</p><ul><li>[ ] kind-hearted </li><li>[ ] love life</li><li>[ ] familiar with the computer material science, practical and theoretical</li><li>[ ] keep developing English</li></ul><h2 id="At-the-Everyday-my-work-included-…"><a href="#At-the-Everyday-my-work-included-…" class="headerlink" title="At the Everyday my work included …"></a>At the Everyday my work included …</h2><ul><li>Read the literary</li><li><strong>Be focus on my main work !</strong><ul><li>Research (VASP, Lammps, Python, ASE, Mymetal)</li><li>Temporary work</li></ul></li><li>English (5 words, movie, blibli, Youtube, BBC news, dictionary)</li><li>Read the book<ul><li>固体物理导论</li><li>材料科学基础</li><li>Some</li></ul></li><li>Use google Todo list</li><li>Practice (混元功法, 八部金刚经)</li></ul><h2 id="Where-are-my-gotten-resource-in"><a href="#Where-are-my-gotten-resource-in" class="headerlink" title="Where are my gotten resource in"></a>Where are my gotten resource in</h2><ul><li>Book, literary: Endnote</li><li>My code, package Mymetal: Github</li><li>My notes, summary literary: Github</li><li>Website: Edge favorite</li><li><strong>WeChat: didn’t be categoried</strong></li><li>Instal package: hard disk, Baidu cloud</li><li>the calculation: Supercomputer, disk</li><li>Zhihu, 计算化学公社: favorite and my texts</li><li><strong>Group meeting: paper notebook</strong></li><li><strong>lecture resource, class: disk</strong></li><li>Book, movie, English, some instal package: Baidu cloud</li><li>My undergraduate note: Onenote, 印记云笔记, screenshot</li></ul><h2 id="How-to-construct-this-blog-website"><a href="#How-to-construct-this-blog-website" class="headerlink" title="How to construct this blog website"></a>How to construct this blog website</h2><ul><li>for some lived article, resource, I should give a list about them</li><li>for ZhiHu, I should export the .md text file</li><li>for WeiXin, I should deal with it</li><li>for New resource, I should write it in this blog website</li></ul><p>Briefly, I’ll write any thing among the next many years</p><h2 id="Experience-Please-you-and-me-…-See-more-Diary-Past-and-future"><a href="#Experience-Please-you-and-me-…-See-more-Diary-Past-and-future" class="headerlink" title="Experience, Please you and me … (See more Diary/Past and future)"></a>Experience, Please you and me … (See more <code>Diary/Past and future</code>)</h2><ul><li><strong>Don’t be a perfectionist.</strong></li><li>It’s often the last key that opens the door.</li><li>Physical fitness is the birthright of the revolution.</li><li><strong>Don’t procrastinate.</strong></li></ul><ul><li><p>把科研当作一份工作来做，回归生活的本质才是人生的意义。</p></li><li><p>正确认识自身的科研实力，把姿态放低，把预期降低。</p></li><li><p>绝对不要完美主义，适度的偷懒是生活的调味剂。科研这件事上，快反而会慢，慢反而会快。</p></li><li><p>对于科研，我是有一点望而生畏的。科研没有那么神秘，这个世界就是一大堆人搭的草台班子。</p></li><li><p>尽快出文章，少做横向。不能全听导师的，一开始得自己想办法合作或者自己弄点课题做。</p></li><li><p>少玩手机，多科研。科研是需要有效的时间来做“冷板凳”的，要想有所成就，首先就需要保证充足或大量的时间。</p></li><li><p>与他人交流</p></li><li><p>勇于展示自己的工作</p></li><li><p>不要总拿自己和他人比较，每个人的志向和time zone 不同</p></li><li><p>君子慎独</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Thinking </category>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thinking-Diary </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Diary - Writing at first</title>
      <link href="/Thinking/Diary/Diary-Writing-at-first/"/>
      <url>/Thinking/Diary/Diary-Writing-at-first/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>莫听穿林打叶声，何妨吟啸且徐行。<em></strong></p><p align="center"><strong><em>竹杖芒鞋轻胜马，谁怕？一蓑烟雨任平生。<em></strong></p><p align="center"><strong><em>料峭春风吹酒醒，微冷，山头斜照却相迎。<em></strong></p><p align="center"><strong><em>回首向来萧瑟处，归去，也无风雨也无晴。<em></strong></p><p align="center"><strong><em>Chill out<em></strong></p><p><strong>Updated time: 03/27. 2024</strong></p><h2 id="Why-do-you-create-the-blog-website"><a href="#Why-do-you-create-the-blog-website" class="headerlink" title="Why do you create the blog website ?"></a>Why do you create the blog website ?</h2><p>To solve the problem that I have many favorites in lots of website, but the content is too disperse to integrate them.</p><h2 id="What’s-the-content-you-want-to-add"><a href="#What’s-the-content-you-want-to-add" class="headerlink" title="What’s the content you want to add ?"></a>What’s the content you want to add ?</h2><ul><li>The emotional life, private life of me (diary, literary, novel, book … ) (and about my experience in the past life)</li><li>To develop my English skill (website, resource, improvement)</li><li>The improvement of scientific research I am in (goal, improvement, difficulty, solve methods, )</li><li>The theoretical background of Computer science, specially DFT, quantum physics (book, website, wechat, lectures, ppt, blog)</li><li>The practical experience of software (VASP, Lammps, python, linux bash command) and tools (ASE, vaspkit, p4vasp, pydft, pyqint, Anaconda, any python packages to understanding the second one)</li><li>The development of my python package, <a href="https://github.com/ShengLin1001/pjvasp_package">mymetal</a></li><li>My idea about future, work, scientific research (from any source, boss, advice)</li><li>Summary of any important website about my research</li><li>Other famous people’s blog, official website</li></ul><h2 id="Please-list-the-categories-tags"><a href="#Please-list-the-categories-tags" class="headerlink" title="Please list the categories, tags"></a>Please list the categories, tags</h2><h3 id="categories"><a href="#categories" class="headerlink" title="categories"></a>categories</h3><ul><li><p>Thinking (1)</p><ul><li>Diary of life</li><li>Idea</li></ul></li><li><p>English (2)</p><ul><li>Exotic custom, manners, culture, life</li></ul></li><li><p>Summary (3)</p><ul><li>Other people blog</li><li>My blog</li><li>WeChat</li><li>Literary<ul><li>Intensive reading</li><li>Skimming</li></ul></li></ul></li><li><p>Research (4)</p><ul><li>The DFT calculation of Au thin film</li></ul></li><li><p>Theory (5)</p><ul><li>Quantum mechanics</li><li>VASP software (see Software - VASP - theoretical)</li></ul></li><li><p>Software (6)</p><ul><li><p>VASP</p><ul><li>Commands</li><li>Special functions</li><li>Tips</li></ul><ul><li>Theory</li></ul></li></ul><ul><li>Lammps</li><li>ASE</li><li>Pymatgen</li><li>VASPKIT</li><li>P4VASP</li><li>Pydft</li><li>Anaconda</li><li>Tool</li></ul></li><li><p>Program (8) </p><ul><li><p>Python</p></li><li><p>Bash</p></li></ul></li><li><p>Developing (9)</p><ul><li>Mymetal</li></ul></li></ul><ol><li><code>Thinking</code></li><li><code>English</code></li><li><code>Summary</code></li><li><code>Research</code></li><li><code>Theory</code></li><li><code>Software</code></li><li><code>Program</code></li><li><code>Developing</code></li></ol><h3 id="tags"><a href="#tags" class="headerlink" title="tags"></a>tags</h3><ol><li><code>Thinking - Diary</code></li><li><code>Thinking - Idea</code></li><li><code>English - Life</code></li><li><code>Summary - Other people blog</code></li><li><code>Summary - My blog</code></li><li><code>Summary - WeChat</code></li><li><code>Summary - Literary - Intensive reading</code></li><li><code>Summary - Literary - Skimming</code></li><li><code>Research - The DFT calculation of Au thin film</code></li><li><code>Theory - Quantum mechanics</code></li><li><code>Software - VASP - Tips</code></li><li><code>Software - VASP - Commands</code></li><li><code>Software - VASP - Special functions</code></li><li><code>Software - VASP - Theory</code></li><li><code>Software - Lammps</code></li><li><code>Software - ASE</code></li><li><code>Software - Pymatgen</code></li><li><code>Software - VASPKIT</code></li><li><code>Software - P4VASP</code></li><li><code>Software - Pydft</code></li><li><code>Software - Anaconda</code></li><li><code>Software - Tool</code></li><li><code>Program - Python</code></li><li><code>Program - Bash</code></li><li><code>Developing - Mymetal</code></li></ol><h2 id="About-everything-needed-to-be-included"><a href="#About-everything-needed-to-be-included" class="headerlink" title="About everything needed to be included"></a>About everything needed to be included</h2><p>Zhihu, github, Wechat, Notes, Tips, </p><p>计算化学公社, edge favorite, Supercomputer, hard disk</p><p>paper notebook</p>]]></content>
      
      
      <categories>
          
          <category> Thinking </category>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thinking-Diary </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P4VASP - Install</title>
      <link href="/Software/P4VASP/P4VASP-install/"/>
      <url>/Software/P4VASP/P4VASP-install/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Cannot see the wood for the trees.<em></strong></p><p align="center"><strong><em>一叶障目<em></strong></p><p><strong>Updated time: 03/25 2024.</strong></p><h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ol><li><a href="https://link.zhihu.com/?target=https%3A//ww-w.vasp.at/info/resource/p4vasp/">P4Vasp</a></li><li><a href="https://link.zhihu.com/?target=https%3A//www.vasp.at/py4vasp/latest/">py4vasp</a></li></ol><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><p>在 <code>C:/.../program file</code> 下解压，并使用管理者权限打开</p><h2 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h2><p>在D盘下解压会出现error，在<code>DOS cal</code> 以及绘制 <code>convergence</code> 时一直 reading C盘下的某个文件</p><pre><code class="lang-bash">p4vasp reading graph fconvergence from C:\Users\LouisR\AppData\Local\Temp\_MEI130482\data\graphs\fconvergence.agr</code></pre><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes:"></a>Notes:</h2><ul><li>工作目录和安装目录全英文</li></ul>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> P4VASP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-P4VASP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VASP - Special functions - fix basic vector</title>
      <link href="/Software/VASP/Special-functions/VASP-Special-functions-fix-basic-vector/"/>
      <url>/Software/VASP/Special-functions/VASP-Special-functions-fix-basic-vector/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>A word spoken is past recalling.<em></strong></p><p align="center"><strong><em>一言既出, 驷马难追<em></strong></p><p><strong>Updated time: 01/30 2024.</strong></p><h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ol><li><p><a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/fkoqZisI2mPTha0WfxhcLg">VASP固定基矢优化结构最新方法更新 (qq.com)</a></p></li><li><p><a href="https://link.zhihu.com/?target=http%3A//blog.wangruixing.cn/2019/05/05/constr/">http://blog.wangruixing.cn/2019/05/05/constr/</a></p></li><li><p>固定晶格部分无缺大师兄贡献：<a href="https://zhuanlan.zhihu.com/p/34750103">https://zhuanlan.zhihu.com/p/34750103</a></p></li><li><p><a href="https://link.zhihu.com/?target=https%3A//github.com/Chengcheng-Xiao/VASP_OPT_AXIS">https://github.com/Chengcheng-Xiao/VASP_OPT_AXIS</a></p></li><li><p><a href="https://link.zhihu.com/?target=http%3A//bbs.keinsci.com/thread-9494-1-1.html">VASP 固定基矢优化结构方法 - 第一性原理 (First Principle) - 计算化学公社 (keinsci.com)</a></p></li><li><p><a href="https://link.zhihu.com/?target=https%3A//blog.shishiruqi.com//2019/05/05/constr/">VASP固定基矢优化结构方法 | 世事如棋 (shishiruqi.com)</a></p></li><li><p><a href="https://link.zhihu.com/?target=https%3A//www.vasp.at/wiki/index.php/Cd_Si_volume_relaxation">Cd Si volume relaxation - VASP Wiki</a></p></li><li><a href="https://link.zhihu.com/?target=https%3A//www.vasp.at/wiki/index.php/LATTICE_CONSTRAINTS">LATTICE_CONSTRAINTS - VASP Wiki</a></li></ol><h2 id="1-固定基矢的作用"><a href="#1-固定基矢的作用" class="headerlink" title="1. 固定基矢的作用"></a>1. 固定基矢的作用</h2><p>对于二维材料，薄膜材料，乃至块体材料的拉伸/压缩模拟中，施加指定应变的基矢方向需要固定，同时由于泊松效应，其他方向的cell长度也会发生相应改变。</p><p>除了固定基矢长度的作用外，某些情况下也可以固定基矢方向。</p><p><img src="/images/VASP-Special-functions-fix-basic-vector/1.png" alt="Ref 3 Fixing specific stress tensor element(s)"></p><h2 id="2-数学描述以及固定基矢方向"><a href="#2-数学描述以及固定基矢方向" class="headerlink" title="2. 数学描述以及固定基矢方向"></a>2. 数学描述以及固定基矢方向</h2><p><code>/src/constr_cell_relax.F source code</code></p><pre><code class="lang-bash">!-----------------------------------------------------------------------!! At present, VASP does not allow to relax the cellshape selectively! i.e. for instance only cell relaxation in x direction.! To be more precisse, this behaviour can not be achived via the INCAR! or POSCAR file.! However, it is possible to set selected components of the stress tensor! to zero.! The most conveninent position to do this is the routines ! CONSTR_CELL_RELAX  (constraint cell relaxation).! FCELL contains the forces on the basis vectors.! These forces are used to modify the basis vectors according! to the following equations:!!      A_OLD(1:3,1:3)=A(1:3,1:3) ! F90 style !      DO J=1,3!      DO I=1,3!      DO K=1,3!        A(I,J)=A(I,J) + FCELL(I,K)*A_OLD(K,J)*STEP_SIZE!      ENDDO!      ENDDO!      ENDDO! where A holds the basis vectors (in cartesian coordinates).!!-----------------------------------------------------------------------      SUBROUTINE CONSTR_CELL_RELAX(FCELL)      USE prec      REAL(q) FCELL(3,3)!     just one simple example!     relaxation in x directions only!      SAVE=FCELL(1,1)!      FCELL=0   ! F90 style: set the whole array to zero!      FCELL(1,1)=SAVE!     relaxation in z direction only!      SAVE=FCELL(3,3)!      FCELL=0   ! F90 style: set the whole array to zero!      FCELL(3,3)=SAVE</code></pre><p><img src="/images/VASP-Special-functions-fix-basic-vector/2.png" alt="知乎评论区，找不到出处了，我觉得这里的矩阵表示有错误，这只是变化值"></p><p>在源代码中交代的很清楚，cell的更新是通过下列循环完成的。FCELL和上图中的F是一样的，只是一个是左乘，一个右乘。</p><pre><code class="lang-bash">!      A_OLD(1:3,1:3)=A(1:3,1:3) ! F90 style !      DO J=1,3!      DO I=1,3!      DO K=1,3!        A(I,J)=A(I,J) + FCELL(I,K)*A_OLD(K,J)*STEP_SIZE!      ENDDO!      ENDDO!      ENDDO</code></pre><p>从一开始的只能对正交盒子固定基矢，扩展到单斜盒子固定基矢，再到对三斜盒子固定方向（<strong>Ref 5 Theta-Al<sub>2</sub>O<sub>3</sub>的优化</strong>）</p><h2 id="3-操作中的误区"><a href="#3-操作中的误区" class="headerlink" title="3. 操作中的误区"></a>3. 操作中的误区</h2><p>对于 Ref 3 中 Fixing specific stress tensor element(s) 方法重新对 VASP 编译</p><pre><code class="lang-bash">cd to_vasp_root_directorycp path/stress_relax_finner.patch ./patch -p0 &lt; stress_relax_finner.patchmodule load mpi/intel/17.0.7-thc#module load intel/17.0.7-thccp arch/makefile.include.linux_intel  ./makefile.includemake std</code></pre><p>对于VASP官网例子测试 <strong>Ref 6</strong></p><pre><code class="lang-bash">POSCAR cell5.5 0.0    0.5     0.5 0.5    0.0     0.5 0.5    0.5     0.0CONTCAR-000000000   5.50000000000000          0.0000000000000000    0.5000000000000000    0.5000000000000000     0.5000000000000000    0.0000000000000000    0.5000000000000000     0.5000000000000000    0.5000000000000000    0.0000000000000000CONTCAR-100010000   5.50000000000000          0.0000000000000000    0.4958558152381574    0.5000000000000000     0.4958558152381574    0.0000000000000000    0.5000000000000000     0.4958558152381574    0.4958558152381574    0.0000000000000000CONTCAR-110110000   5.50000000000000          0.0000000000000000    0.4958559358684163    0.5000000000000000     0.4958559358684163    0.0000000000000000    0.5000000000000000     0.4958559358684163    0.4958559358684163    0.0000000000000000CONTCAR - turn off IOPTCELL tag   5.50000000000000          0.0000000000000000    0.4971253367745418    0.4971253367745418     0.4971253367745418    0.0000000000000000    0.4971253367745418     0.4971253367745418    0.4971253367745418   -0.0000000000000000</code></pre><p>算到这里我觉得很奇怪，因为 manual 中写到</p><pre><code class="lang-bash">IOPTCELL = xx yx zx xy yy zy xz yz zzfor example:IOPTCELL = 1 1 0 1 1 0 0 0 0will relax the xx, xy, yx and yy components of the stress tensor, while keeping the other components fixed (to zero).</code></pre><p>我以为对应某个分量的值设为0，那 cell 中这部分便被固定住了。但这是错误的！cell的更新是一个矩阵运算，不存在点乘。首先 POSCAR 给出的是正交晶系，但基矢并不是 conventional cell 的常规写法。接下来，即使我们设定</p><p><code>100010000 =》 FCELL = [[1 0 0] [0 1 0] [0 0 0]]</code>，经过 <code>FCELL[i, k]·A_OLD[k, j]</code> 的遍历几乎所有的元素都发生了改变。</p><p><strong>误区的核心在于：没有理解了矩阵运算</strong></p><p>当然，我还关闭对称性算了一下，我以为是对称性和IOPTCELL造成的约束冗余。</p><h2 id="4-固定基矢的作用对象"><a href="#4-固定基矢的作用对象" class="headerlink" title="4. 固定基矢的作用对象"></a>4. 固定基矢的作用对象</h2><h3 id="4-1-正交晶系"><a href="#4-1-正交晶系" class="headerlink" title="4.1 正交晶系"></a>4.1 正交晶系</h3><p><code>A = [[a 0 0] [0 b 0 ] [0 0 c] ]</code></p><p>可以实现固定任意基矢，也可以固定基矢的方向优化。</p><p>对于 A ，第一行对应 a<sub>1</sub>, 二 a<sub>2</sub>, 三 a<sub>3</sub>。以对 a<sub>1</sub> 操作为例， 固定该基矢，则 FCELL 的第一行为 <code>[ 0 0 0]</code> 。固定基矢的方向优化 <code>[1 0 0]</code></p><h3 id="4-2-单斜晶系"><a href="#4-2-单斜晶系" class="headerlink" title="4.2 单斜晶系"></a>4.2 单斜晶系</h3><p><code>A = [[a 0 0] [b1 b2 0 ] [0 0 c] ]</code></p><p>可以实现固定任意基矢, 可以对 <code>a, c</code> 轴固定基矢方向优化，<code>b</code> 轴可以固定在 xy 平面内。</p><p><code>a c</code> 轴同上。<code>b</code> 轴固定基矢，<code>[0 0 0]</code>, 固定方向优化 <code>[1 1 0]</code></p><h3 id="4-3-三斜晶系"><a href="#4-3-三斜晶系" class="headerlink" title="4.3 三斜晶系"></a>4.3 三斜晶系</h3><p><code>A = [[a 0 0] [b1 b2 0] [c1 c2 c3]]</code></p><p><code>a b</code> 轴同上，<code>c</code> 轴固定基矢，<code>[0 0 0]</code>，没法固定方向。</p><h2 id="5-VASP-6-LATTICE-CONSTRAINTS-Command"><a href="#5-VASP-6-LATTICE-CONSTRAINTS-Command" class="headerlink" title="5. VASP 6 - LATTICE_CONSTRAINTS Command"></a>5. VASP 6 - LATTICE_CONSTRAINTS Command</h2><pre><code class="lang-text">Mind: LATTICE_CONSTRAINTS in combination with IBRION=1,2 is available from VASP 6.5.0.</code></pre><p><code>LATTICE_CONSTRAINTS TAG</code> 可用于MD 模拟和静态弛豫。尤其适用于液体以及二维材料的计算。</p><p>但是我没有 6.5.0 版本的VASP，所以没有进行测试。</p><p><img src="/images/VASP-Special-functions-fix-basic-vector/3.png" alt=""></p><h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>manual 中写的是对的，确实只要设为 1 这个地方就会被优化，设为 0 就会固定。关键在于，A 的形式是否和这里的一致以及，不是因为我们设为 0 而固定，而是得通过矩阵运算检验。例如对于单斜晶系 b 轴，设 <code>[0, 1, 0]</code>, b<sub>1</sub> 仍会被优化</p><p>这是我的粗略见解，肯定有疏漏之处。</p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> VASP </category>
          
          <category> Special_functions </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-VASP-Special_functions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tool - Proxy problem of copilot</title>
      <link href="/Software/Tool/Tool-Proxy-problem-of-copilot/"/>
      <url>/Software/Tool/Tool-Proxy-problem-of-copilot/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Children are what the mothers are.<em></strong></p><p align="center"><strong><em>耳濡目染<em></strong></p><p><strong>Updated time: 01/23 2024.</strong></p><h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref:"></a>Ref:</h2><ol><li><p><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/m0_57236802/article/details/132169445">怎么让vscode走代理？_vscode 设置代理-CSDN博客</a></p></li><li><p><a href="http://link.zhihu.com/?target=https%3A//cloud.tencent.com/developer/article/2351073">在 Visual Studio Code (VS Code) 中设置-腾讯云开发者社区-腾讯云 (tencent.com)</a></p></li></ol><h2 id="error"><a href="#error" class="headerlink" title="error"></a>error</h2><p>Github 学生身份验证以后可以免费使用 copilot 插件。</p><p>在 vs code 上安装插件并登录以后，显示 error</p><pre><code class="lang-bash">Extension activation failed: &quot;At this time, Copilot is not available in your location. You are currently logged in as XXX.&quot;</code></pre><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>网络原因，中国和俄罗斯都被ban了。首先外部 vpn 软件已经连上了，然后还得设置vs code内部的代理。</p><pre><code class="lang-bash"> Now, It works. #    First, •    Press Win + I to open Settings.•    Go to Network &amp; Internet &gt; Proxy.•    If you&#39;re using a manual proxy, it will be listed here.Address is 127.0.0.1, port is 7890#    Second,Configure Proxy in VS Code:•    Open Visual Studio Code.•    Go to Settings (File &gt; Preferences &gt; Settings or Ctrl + ,).•    Search for proxy.•    In the HTTP Proxy setting, input https://127.0.0.1:7890 •    Set HTTP Proxy Support to override.#    After restarting the software, the extension works!</code></pre><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p><code>ctrl+I</code> 开启插件，这样才能自动补全。</p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>My blog - Shortcut command</title>
      <link href="/Summary/My-blog/My-blog-Shortcut-command/"/>
      <url>/Summary/My-blog/My-blog-Shortcut-command/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Justice has long arms.<em></strong></p><p align="center"><strong><em>天网恢恢, 疏而不漏<em></strong></p><p><strong>Updated time: 04/09 2024.</strong></p><h2 id="VS-code"><a href="#VS-code" class="headerlink" title="VS code"></a>VS code</h2><pre><code class="lang-bash">Shift whole left: shift + Tab           Right: TabBatch annotation: Ctrl + K + C          Cancel： Ctrl + K + UCOMMAND: Ctrl + Shift + P</code></pre><h2 id="OUTLOOK"><a href="#OUTLOOK" class="headerlink" title="OUTLOOK"></a>OUTLOOK</h2><pre><code class="lang-bash">Emoij: Windows + Dot</code></pre><h2 id="Python3"><a href="#Python3" class="headerlink" title="Python3"></a>Python3</h2><pre><code class="lang-bash">python3 -m venv /path/name</code></pre><h2 id="Anaconda"><a href="#Anaconda" class="headerlink" title="Anaconda"></a>Anaconda</h2><pre><code class="lang-BASH">conda activate ...conda env listconda list -e &gt; requirement.txtconda create -n ... python=3.11conda env remove -n ...</code></pre><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h3 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h3><pre><code class="lang-bash">% grep% what line up and after around the line contained &#39;format&#39;grep -A 6 -B 6 &#39;format&#39; file</code></pre><h3 id="To-see"><a href="#To-see" class="headerlink" title="To see"></a>To see</h3><pre><code class="lang-bash">% to seediff file1 file2more sub.vaspcat sub.vasp% to see the line numbercat -n filename.txt</code></pre><h3 id="write-to-file"><a href="#write-to-file" class="headerlink" title="write to file"></a>write to file</h3><pre><code class="lang-bash">%create a filecat &gt; file.txtCtrl + D% write contentecho &#39; &#39; &gt;  file.txt         &gt;&gt;              % append</code></pre><h3 id="chmod-command"><a href="#chmod-command" class="headerlink" title="chmod command"></a>chmod command</h3><pre><code class="lang-bash">% for run scriptchmod u+x sub.vasp</code></pre><h3 id="delete-or-add-something-on-file"><a href="#delete-or-add-something-on-file" class="headerlink" title="delete or add something on file"></a>delete or add something on file</h3><pre><code class="lang-bash">% delete specified line of the filesed -i &#39;10, 20d&#39; filename.txt% cat commanda = &#39;$(cat POSCAR)&#39;echo &#39;$a&#39;% add file to another filesed -i &#39;N r tmp_file&#39; filename.txt% N - line% delete filerm -f /../../*.log% delete directoryrm -rf /root/log/game</code></pre><h3 id="Unzip-command"><a href="#Unzip-command" class="headerlink" title="Unzip command"></a>Unzip command</h3><pre><code class="lang-bash">unzip .../*.ziptar -zxvf .../*.tar.gz</code></pre><h3 id="cp-command"><a href="#cp-command" class="headerlink" title="cp command"></a>cp command</h3><pre><code class="lang-bash">% transfer the entirely directorycp  -r /home/downloads/phpcms_v9_UTF8/install_package/ /opt/lampp/htdocs/</code></pre><h3 id="mv-command"><a href="#mv-command" class="headerlink" title="mv command"></a>mv command</h3><pre><code class="lang-bash">% move directorymv ../../  ../</code></pre><h3 id="For-internet"><a href="#For-internet" class="headerlink" title="For internet"></a>For internet</h3><pre><code class="lang-bash"># all upip addr# restart networksudo systemctl restart networking# if down, set upsudo ip link set ens33 upsudo dhclient ens33</code></pre><h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><pre><code class="lang-bash"># 配置Git用户信息git config --global user.name &quot;Your Name&quot;  # 设置全局用户名git config --global user.email &quot;youremail@example.com&quot;  # 设置全局邮箱地址# SSH to cennected between git and github# 初始化一个新的Git仓库git init  # 在当前目录初始化新的Git仓库# 克隆一个现有的仓库 # http / SSH (recommended)git clone https://github.com/username/repository.git  # 克隆远程仓库到本地git clone git@github.com:ShengLin1001/hetbuilder.git# 查看状态git status  # 查看当前工作目录和暂存区的状态# 添加和提交更改git add .  # 将所有修改和新文件添加到暂存区git commit -m &quot;Commit message&quot;  # 提交暂存区到仓库区# 推送更改到远程仓库git push origin main  # 将本地的更改推送到远程仓库的main分支# 更新你的本地仓库git pull origin main  # 从远程仓库的main分支拉取最新更改并合并到本地# 分支操作git branch branchname  # 创建一个新分支git checkout branchname  # 切换到指定分支git merge branchname  # 将指定分支合并到当前分支# 查看提交历史git log  # 查看提交历史记录</code></pre><h3 id="alias"><a href="#alias" class="headerlink" title="alias"></a>alias</h3><pre><code class="lang-bash"># see aliasgit config --get-regexp alias# 设置 &#39;co&#39; 为 &#39;checkout&#39; 的别名 git co branch-namegit config --global alias.co checkout# 设置 &#39;br&#39; 为 &#39;branch&#39; 的别名git config --global alias.br branch# 设置 &#39;ci&#39; 为 &#39;commit&#39; 的别名git config --global alias.ci commit# 设置 &#39;st&#39; 为 &#39;status&#39; 的别名git config --global alias.st status# 设置 &#39;lg&#39; 为更美观的日志输出格式git config --global alias.lg &quot;log --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&quot;# 设置 &#39;unstage&#39; 作为撤销暂存的别名git config --global alias.unstage &#39;reset HEAD --&#39;# 设置 &#39;last&#39; 为查看最后一次提交的别名git config --global alias.last &#39;log -1 HEAD&#39;# git ac &quot;&quot;git config --global alias.ac &#39;!git add -A &amp;&amp; git commit -m&#39;# push and pull on maingit config --global alias.push &#39;push origin main&#39;git config --global alias.pull &#39;pull origin main&#39;</code></pre><h2 id="Para"><a href="#Para" class="headerlink" title="Para"></a>Para</h2><pre><code class="lang-bash">papp_cloud 是一个登录超算的命令行工具，具备ssh，scp，rsync, sftp, sshfs 等基础功能。o 支持的操作系统  - Linux x86_64/i686  - Darwin x86_64Flags:  -h, --help     Show context-sensitive help (also try --help-long and --help-man).  -V, --version  Show application version.  -D, --debug    Enable debug mode.  -s, --select   select a vpn link route.Commands:  help [&lt;command&gt;...]    Show help.  ssh [&lt;flags&gt;] &lt;destination&gt; [&lt;command&gt;...]    Ssh is a sub command for logging into a remote machine and for executing commands on a remote machine.    example:      1. 使用paratera帐号登录广州超算(IPv4)      $ papp_cloud ssh paratera@gz                                                         2. 使用paratera帐号登录广州超算(IPv6)      $ papp_cloud ssh -6 paratera@gz                                                     sshfs [&lt;flags&gt;] &lt;source ... target&gt;...    SSHFS - filesystem client based on SSH.    example:       1.挂载广州超算目录/home/paratera到本地挂载点/localdir       $ papp_cloud sshfs paratera@gz:/home/paratera /localdir  scp [&lt;flags&gt;] &lt;source ... target&gt;...    Scp copies files between hosts on a network.    example:      o Upload      1. 使用paratera帐号上传file1，file2文件到广州超算的paratera用户家目录(IPv4)      $ papp_cloud scp file1 file2 paratera@gz:/home/paratera                 2. 使用paratera帐号上传file1，file2文件到广州超算的paratera用户家目录(IPv6)      $ papp_cloud scp -6 file1 file2 paratera@gz:/home/paratera                 o Download      1. 使用paratera帐号下载广州超算paratera用户家目录下的file1 文件到本地的/data      目录(IPv4)      $ papp_cloud scp paratera@gz:/home/paratera/file1 /data                 2. 使用paratera帐号下载广州超算paratera用户家目录下的file1 文件到本地的/data      目录(IPv6)      $ papp_cloud scp -6 paratera@gz:/home/paratera/file1 /data             sftp [&lt;flags&gt;] &lt;destination&gt;...    Sftp is a file transfer program, similar to ftp.    example:      1. 使用paratera帐号登录广州超算(IPv4)      $ papp_cloud sftp paratera@gz                                 2. 使用paratera帐号登录广州超算(IPv6)      $ papp_cloud sftp -6 paratera@gz                             rsync [&lt;flags&gt;] &lt;source ... target&gt;...    Rsync copies files either to or from a remote host, or locally on the current host (it does not support copying files between two remote hosts    example:      o Upload      1. 使用paratera帐号同步file1，file2文件到广州超算的paratera用户家目录(IPv4)      $ papp_cloud rsync file1 file2 paratera@gz:/home/paratera               2. 使用paratera帐号同步file1，file2文件到广州超算的paratera用户家目录(IPv6)      $ papp_cloud rsync -6 file1 file2 paratera@gz:/home/paratera               o Download      1. 使用paratera帐号下载广州超算paratera用户家目录下的file1 文件到本地的/data      目录(IPv4)      $ papp_cloud rsync paratera@gz:/home/paratera/file1 /data               2. 使用paratera帐号下载广州超算paratera用户家目录下的file1 文件到本地的/data      目录(IPv6)      $ papp_cloud rsync -6 paratera@gz:/home/paratera/file1 /data           login --user=USER --[no-]password    Login paratera cloud service.    example:      $ papp_cloud login -u user@paratera.com -p  logout    Logout paratera cloud service.    example:      $ papp_cloud logout  lsc    list super computer centers.  accounts    list super computer center accounts</code></pre><pre><code class="lang-bash">papp_cloud ssh scg6928@zc-m6</code></pre>]]></content>
      
      
      <categories>
          
          <category> Summary </category>
          
          <category> My_blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Summary-My_blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ASE - How to generate surface</title>
      <link href="/Software/ASE/ASE-How-to-generate-surface/"/>
      <url>/Software/ASE/ASE-How-to-generate-surface/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>No cross, no crown.<em></strong></p><p align="center"><strong><em>不经历风雨，怎么见彩虹<em></strong></p><p><strong>Updated time: 01/19 2024.</strong></p><h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ol><li><p><a href="https://link.zhihu.com/?target=https%3A//wiki.fysik.dtu.dk/ase/ase/build/surface.html%23surfaces">Surfaces — ASE documentation (dtu.dk)</a></p></li><li><p><a href="https://link.zhihu.com/?target=https%3A//spglib.readthedocs.io/en/latest/definition.html">Definitions and conventions — Spglib v2.3.0</a></p></li><li><p>Theory and implementation behind: Universal surface creation - smallest unitcell Bjarke Brink Buus, Jakob Howalt &amp; Thomas Bligaard August 2, 2019</p></li><li><p><a href="https://link.zhihu.com/?target=http%3A//bbs.vaspkit.cn/forum.php%3Fmod%3Dviewthread%26tid%3D54%23%3A~%3Atext%3DVASPKIT%E9%A6%96%E5%85%88%E8%B0%83%E7%94%A8spglib%E5%AF%BB%E6%89%BE%E5%88%B0%E6%A0%87%E5%87%86%E7%9A%84%E6%83%AF%E7%94%A8%E6%99%B6%E8%83%9E%EF%BC%8C%E7%84%B6%E5%90%8E%E5%9F%BA%E4%BA%8E%E6%96%87%E7%8C%AEComputational%20Materials%20Science%20128%20%282017%29%20140%E2%80%93184%E4%B8%AD%E7%9A%84%E8%A1%A83%E6%89%80%E7%BB%99%E5%87%BA%E7%9A%84%E5%8F%98%E6%8D%A2%E7%9F%A9%E9%98%B5P%EF%BC%8C%E9%80%9A%E8%BF%87%E5%85%AC%E5%BC%8F%E5%8E%9F%E8%83%9E%E5%9F%BA%E7%9F%A2%20%28ap%2C%2Cbp%2C%20cp%29%3D%E6%99%B6%E8%83%9E%E5%9F%BA%E7%9F%A2%20%28ac%2C%20bc%2C%20cc%29%2AP%E5%BE%97%E5%88%B0%E5%8E%9F%E8%83%9E%EF%BC%88%E5%8F%82%E8%80%83%20https%3A%2F%2Fspglib.github.io%2Fspglib%2Fdefinition.html%20%EF%BC%89%E3%80%82">vaspkit得到标准化原胞基矢和pymatgen得到标准化原胞基矢差异 - VASPKIT使用相关 - VASPKIT论坛 - VASPKIT</a></p></li></ol><h2 id="写在前面的话"><a href="#写在前面的话" class="headerlink" title="写在前面的话"></a>写在前面的话</h2><p>我复现的是关于薄膜的单轴，双轴拉伸。本来想基于 ASE 的 Atoms 创建一个子类 Films，但是我不太能理清其中的继承关系，做到一半发现有部分函数调用失败，于是还是归为 Atoms 类。</p><h2 id="1-ASE-中的-surface"><a href="#1-ASE-中的-surface" class="headerlink" title="1. ASE 中的 surface"></a>1. ASE 中的 surface</h2><p>参考 [1]，ASE 中的 surface 包括 common surface 和 non-common surface。为了使得理解的更为透彻，也方便后面的修改，这里我主要了解的是 non-common surface 的理论介绍和源代码。</p><p><img src="/images/ASE-How-to-generate-surface/1.png" alt="ase.build.surface"></p><p>对于参数的理解有，<strong>lattice 不能是原胞，必须是 conventional cell</strong>; indices 的单位是 (a<sub>1</sub>, a<sub>2</sub>, a<sub>3</sub>), 而不是 (x,y,z); periodic 只决定 z 方向， xy 自动设为 True; layers 是指 layer of slab。<strong>在我的修改中，我想指定金属密排面的层数，以及生成的 film 是原胞</strong>。</p><h2 id="2-一个简单的例子-（Ref-1-）"><a href="#2-一个简单的例子-（Ref-1-）" class="headerlink" title="2. 一个简单的例子 （Ref [1]）"></a>2. 一个简单的例子 （Ref [1]）</h2><p>可以看到这个方法的强大之处在于，我们可以任意指定一个 conventional cell，就可以创建出任意晶向的切面。</p><p>从这个例子可以得到：</p><pre><code class="lang-python3">s3.center(vacuum=10, axis=2)</code></pre><p>设定的真空层厚度是可多次变化的，不会累积。</p><p>以及源代码中应该考虑到 surface 必然是要加真空层的，所以如果 <code>vacuum = 0</code>, 那么可以看到上下表面的原子紧挨着上下边界。如果 replicate z, 就会发现原子重叠了。</p><pre><code class="lang-python3">a = 4.0Pt3Rh = Atoms(&#39;Pt3Rh&#39;,              scaled_positions=[(0, 0, 0),                                (0.5, 0.5, 0),                                (0.5, 0, 0.5),                                (0, 0.5, 0.5)],              cell=[a, a, a],              pbc=True)s3 = surface(Pt3Rh, (2, 1, 1), 9)s3.center(vacuum=10, axis=2)Pt3Rh.set_chemical_symbols(&#39;PtRhPt2&#39;)s4 = surface(Pt3Rh, (2, 1, 1), 9)s4.center(vacuum=10, axis=2)</code></pre><p><img src="/images/ASE-How-to-generate-surface/2.png" alt="s3, s4"></p><h2 id="3-manual-中的-理论-ref-3"><a href="#3-manual-中的-理论-ref-3" class="headerlink" title="3. manual 中的 理论 [ref 3]"></a>3. manual 中的 理论 [ref 3]</h2><h3 id="3-1-实空间描述"><a href="#3-1-实空间描述" class="headerlink" title="3.1 实空间描述"></a>3.1 实空间描述</h3><p>晶面指数 (h k l)，与 （a<sub>1</sub>, a<sub>2</sub>, a<sub>3</sub>）轴交叉于 (1/h·a<sub>1</sub>, 1/k·a<sub>2</sub>, 1/l·a<sub>3</sub>)</p><h3 id="3-2-倒空间描述"><a href="#3-2-倒空间描述" class="headerlink" title="3.2 倒空间描述"></a>3.2 倒空间描述</h3><p>晶面法向量 n = h·b<sub>1</sub> + k·b<sub>2</sub> + l·b<sub>3</sub></p><p><img src="/images/ASE-How-to-generate-surface/3.png" alt="面内基矢量的表示"></p><h3 id="3-3-确定面内基矢量"><a href="#3-3-确定面内基矢量" class="headerlink" title="3.3 确定面内基矢量"></a>3.3 确定面内基矢量</h3><p>两个基矢量的叉乘应最小，基于此去求解</p><p><img src="/images/ASE-How-to-generate-surface/4.png" alt=""></p><p><img src="/images/ASE-How-to-generate-surface/5.png" alt=""></p><h3 id="3-4-确定-v3"><a href="#3-4-确定-v3" class="headerlink" title="3.4 确定 v3"></a>3.4 确定 v<sub>3</sub></h3><p><img src="/images/ASE-How-to-generate-surface/6.png" alt=""></p><h3 id="3-5-代码中的实现"><a href="#3-5-代码中的实现" class="headerlink" title="3.5 代码中的实现"></a>3.5 代码中的实现</h3><p><img src="/images/ASE-How-to-generate-surface/7.png" alt=""></p><p><img src="/images/ASE-How-to-generate-surface/8.png" alt=""></p><h2 id="4-Spglib-寻找原胞-ref-2"><a href="#4-Spglib-寻找原胞-ref-2" class="headerlink" title="4 Spglib 寻找原胞 (ref 2)"></a>4 Spglib 寻找原胞 (ref 2)</h2><p>ref [2] 中有关于寻找原胞的逻辑，先寻找对称性，然后进行转换/旋转操作。</p><pre><code class="lang-text">import spgliblattice = [[5.0759761474456697, 5.0759761474456697, 0],           [-2.8280307701821314, 2.8280307701821314, 0],           [0, 0, 8.57154746]]points = [[0.0, 0.84688439, 0.1203133],          [0.0, 0.65311561, 0.6203133],          [0.0, 0.34688439, 0.3796867],          [0.0, 0.15311561, 0.8796867],          [0.5, 0.34688439, 0.1203133],          [0.5, 0.15311561, 0.6203133],          [0.5, 0.84688439, 0.3796867],          [0.5, 0.65311561, 0.8796867]]numbers = [8,] * len(points)cell = (lattice, points, numbers)primitive_cell = spglib.standardize_cell(cell, to_primitive=1, no_idealize=1)print(primitive_cell[0])</code></pre><p><strong>However using<code>standardize_cell</code>, distortion is not removed for the distorted crystal structure.</strong></p><p><strong>由此可见，需要从 Atom 中按照格式输入到函数中。</strong></p><pre><code class="lang-text">import spglib# find primitive cell using spglibdef my_find_prim(atoms: Atoms = None) -&gt; Atoms:    # Convert to a format suitable for spglib    lattice = array(atoms.get_cell())    points = array(atoms.get_scaled_positions())    numbers = array(atoms.get_atomic_numbers())    pbc = array(atoms.get_pbc())    cell = (lattice, points, numbers)    primitive_cell = spglib.standardize_cell(cell, to_primitive=1, no_idealize=1)    # print(primitive_cell)    # primitive_symbols = [chemical_symbols[number] for number in primitive_cell[2]]    # Convert the spglib output back to an ASE Atoms object    primitive_atoms = Atoms(numbers = primitive_cell[2],                            scaled_positions = primitive_cell[1],                            cell = primitive_cell[0],                            pbc=pbc)    return primitive_atoms</code></pre><h2 id="5-设定密排面层数"><a href="#5-设定密排面层数" class="headerlink" title="5. 设定密排面层数"></a>5. 设定密排面层数</h2><p>我的想法是我先生成 <code>1 layer_slab</code>，通过寻找原胞得到这一层slab中有多少原子 <code>num_per_slab</code>，然后除以（预先设定的）一层密排面中有多少高度不一致的原子 <code>number_per_layer</code>（例如 <code>FCC，HCP</code> 都为1，二硫化钼为3），得到该创建几层<code>slab，num_rep_z</code></p><pre><code class="lang-python3"># find number of atoms per slabdef my_find_num_per_slab(my_bulk: Atoms = None,                         slice_plane:  tuple[int] = (0, 0, 1),                         my_tol: float = 1e-6,                                   my_periodic: bool = False,                         number_per_layer: float = None) -&gt; float:    my_one_slab = surface(my_bulk, slice_plane , 1, vacuum = 20, tol=my_tol, periodic=my_periodic)    prim_one_slab = my_find_prim(my_one_slab)    atom_number_per_slab = len(prim_one_slab.get_positions())    layer_number_per_slab = atom_number_per_slab/number_per_layer    return layer_number_per_slab</code></pre><p>主函数</p><pre><code class="lang-python3">from numpy import sqrt, ndarray, array, int32from os    import makedirs, pathfrom inspect import stackfrom ase.cell import Cellfrom ase.symbols import Symbolsimport numpy as npfrom ase import Atomsfrom ase.data import chemical_symbolsfrom ase.build import bulk, surfacefrom ase.io import writefrom ase.visualize import viewfrom ase.io.vasp import _symbol_count_from_symbols, _write_symbol_countfrom ase.utils import reader, writerimport refrom pathlib import Pathfrom typing import List, Optional, TextIO, Tupleimport spglibdef generate_film(   symbols: str = None,                 # str                structure: str = None,              # str                num_layers: int = None,            # int                replic_z: int = None,              # int                my_vacuum: float = None,           # float                slice_plane: tuple[int] = (0, 0, 1),  # Tuple of ints                my_tol: float = 1e-6,              # float                my_periodic: bool = False,          # bool                a_fcc: float = 2.95*sqrt(2.0),     # float                a_hcp: float = 2.95,               # float                my_covera: float = sqrt(8.0/3.0),  # float                move_atom: list = [0.1, 0.1, 0.0],                number_per_layer: float = 1.0                ) :    # parameters : 1-8 line: general setting    #              9 10-11 line: fcc, hcp parameters    # when we use surface() function, my_bulk must be a conventional cell, not a primitive cell, so set cubic=True    if structure == &#39;fcc&#39;:        my_bulk = bulk(symbols, structure, a=a_fcc, cubic=True)    elif structure == &#39;hcp&#39;:        my_bulk = bulk(symbols, structure, a = a_hcp, covera = my_covera, cubic=True)    else:        raise ValueError(&#39;%s is an invalid structure&#39; % structure)    layer_number_per_slab = my_find_num_per_slab(my_bulk, slice_plane, my_tol, my_periodic, number_per_layer)    # print(&#39;layer_number_per_slab: %s&#39; % layer_number_per_slab)    if num_layers:        num_rep_z = int(num_layers/layer_number_per_slab)    elif replic_z:        num_rep_z = replic_z    else:        raise ValueError(&#39;%s or %s is an invalid value&#39; % num_layers % num_rep_z)    # print(&#39;rep_z: %s&#39; %num_rep_z)    my_slab = surface(my_bulk, slice_plane , num_rep_z, vacuum = my_vacuum, tol=my_tol, periodic=my_periodic)    my_slab = my_find_prim(my_slab)    move_atoms(my_slab, move_atom)    my_slab.wrap()    return my_slab# move atomsdef move_atoms(atoms: Atoms = None,               translate_matrix: ndarray = array([0.1, 0.1, 0.0])) -&gt; Atoms :    scaled = atoms.get_scaled_positions()    scaled += translate_matrix    atoms.set_scaled_positions(scaled)    atoms.wrap()    return atoms# find primitive cell using spglibdef my_find_prim(atoms: Atoms = None) -&gt; Atoms:# Convert to a format suitable for spgliblattice = array(atoms.get_cell())points = array(atoms.get_scaled_positions())numbers = array(atoms.get_atomic_numbers())pbc = array(atoms.get_pbc())cell = (lattice, points, numbers)primitive_cell = spglib.standardize_cell(cell, to_primitive=1, no_idealize=1)# Convert the spglib output back to an ASE Atoms objectprimitive_atoms = Atoms(numbers = primitive_cell[2],scaled_positions = primitive_cell[1],cell = primitive_cell[0],pbc=pbc)return primitive_atoms</code></pre><p>至此，我想要的功能都实现了。</p><h2 id="写在最后的话"><a href="#写在最后的话" class="headerlink" title="写在最后的话"></a>写在最后的话</h2><p><strong>未解决的问题</strong></p><ol><li>我其实搞不懂这个surface函数究竟是怎么转出来的，当我没有添加得到原胞的功能时，FCC {111} 1 层slab里有一层密排面，4个原子。FCC {100} 1 层slab里有两层原子面，4个原子。</li></ol><pre><code class="lang-python3">film = generate_film(symbols = &#39;Au&#39;, structure = &#39;fcc&#39;, num_layers = 1, my_vacuum = 20, slice_plane = (1 0 0) or (1,1,1), a_fcc = 2.95*sqrt(2.0))</code></pre><p>正是因为没搞懂，所以为了实现设定原子密排面数量，我采用了上述转换。</p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> ASE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-ASE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ASE - Modify the source code of Write function</title>
      <link href="/Software/ASE/ASE-Modify-the-source-code-of-Write-function/"/>
      <url>/Software/ASE/ASE-Modify-the-source-code-of-Write-function/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>A good neighbour is better than a bother in the next village.<em></strong></p><p align="center"><strong><em>远亲不如近邻<em></strong></p><p><strong>Updated time: 01/18 2024.</strong></p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h2><ol><li><a href="https://link.zhihu.com/?target=https%3A//wiki.fysik.dtu.dk/ase/ase/atoms.html%23ase.Atoms.write">The Atoms object — ASE documentation (dtu.dk)</a></li><li><a href="https://link.zhihu.com/?target=https%3A//wiki.fysik.dtu.dk/ase/ase/io/formatoptions.html%23ase.io.vasp.write_vasp">Format Specific Options — ASE documentation (dtu.dk)</a></li><li><a href="https://link.zhihu.com/?target=https%3A//gitlab.com/ase/ase">ase / ase · GitLab (the latest version)</a></li></ol><p>在我使用 <code>Write</code> 函数生成 <code>POSCAR</code> 时，我发现该函数不支持设置 <code>scaled factor</code> 的设置。这是因为 <code>Atoms</code> 的属性中并无这一缩放因子，如果加入这一属性会使得计算变得复杂。但如果是只针对输出，我们可以通过修改源代码来实现这一目的。</p><p>值得注意的是，ASE 对 <code>write_vasp</code> 这一函数修改变化挺大的，我在 import 时发现我Anaconda中不包含指定函数，检查发现我看的最新代码和我使用的 <code>ASE package</code> 版本不一样。</p><h2 id="Why-it-didn’t-work"><a href="#Why-it-didn’t-work" class="headerlink" title="Why it didn’t work"></a>Why it didn’t work</h2><p>When I used the write function in ASE to parse the POSCAR file, I found that the lattice factor on the second line was always 1.</p><pre><code class="lang-text">write(myfile_path, self, format=myformat, direct=mydirect, vasp5=myvasp5)</code></pre><p>So I searched the “write” in manual</p><p><img src="/images/ASE-Modify-the-source-code-of-Write-function/1.png" alt="search results"></p><p>please be focused on <code>ase.Atoms.write</code> and <code>ase.io.write</code>.</p><p>it’s same because the first is called the second function.</p><p><img src="/images/ASE-Modify-the-source-code-of-Write-function/2.png" alt="ase.Atoms.write source code"></p><p>So let’s see the second one. Below is its usage, the format has many types, so turn to VASP. And click on the <code>&quot;vasp&quot;</code>. and we found the function <code>write_vasp</code> is the core function worked.</p><p><img src="/images/ASE-Modify-the-source-code-of-Write-function/3.png" alt="ase.io.write usage"></p><p><img src="/images/ASE-Modify-the-source-code-of-Write-function/4.png" alt="format about VASP"></p><p><img src="/images/ASE-Modify-the-source-code-of-Write-function/5.png" alt="write_vasp function"></p><p>Let’s see the source code.</p><p><img src="/images/ASE-Modify-the-source-code-of-Write-function/6.png" alt="some interesting comments"></p><h2 id="Find-the-source-code-and-change-it"><a href="#Find-the-source-code-and-change-it" class="headerlink" title="Find the source code and change it"></a>Find the source code and change it</h2><pre><code class="lang-python3">For simplicity, we write the unit cell in real coordinates, so the scaling factor is always set to 1.0.</code></pre><p>So the developer thinks the scaling factor should always be set to 1.</p><p>Emm, after thinking carefully, I support his opinions, it’s true.</p><p>But I want to add this function in this writing function.</p><p>So I copy the source code of <code>write_vasp</code> in <code>&quot;ase/io/vasp.py&quot;</code>.</p><pre><code class="lang-python3"># add those command# the  _symbol_count_from_symbols, _write_symbol_count may be changed, so depending your ase&#39;s version to adjustfrom ase.io.vasp import _symbol_count_from_symbols, _write_symbol_countfrom ase.utils import reader, writer</code></pre><p>header</p><pre><code class="lang-python3">@writerdef my_write_vasp(filename,               atoms,               label=None,               lattice_scale_factor = 1,               direct=False,               sort=None,               symbol_count=None,               long_format=True,               vasp5=True,               ignore_constraints=False,               wrap=False):</code></pre><p>and changed</p><pre><code class="lang-python3">    # Write unitcell in real coordinates and adapt to VASP convention    # for unit cell    # ase Atoms doesn&#39;t store the lattice constant separately, so always    # write 1.0.    fd.write(&#39;%19.16f\n&#39; % lattice_scale_factor)    scaled_cell = atoms.get_cell()/lattice_scale_factor    if long_format:        latt_form = &#39; %21.16f&#39;    else:        latt_form = &#39; %11.6f&#39;    for vec in scaled_cell:        fd.write(&#39; &#39;)        for el in vec:            fd.write(latt_form % el)        fd.write(&#39;\n&#39;)</code></pre><p>here film is my atom object, it’s done!</p><pre><code class="lang-python3"># film = Atoms(symbols = &#39;H&#39;, positions=[(0, 0, 0)],#               cell=(d, 0, 0),#               pbc=(1, 0, 0))my_write_vasp(file= open(&#39;./POSCAR&#39;,&#39;w&#39;), atoms = film, label = &#39;Au&#39;, lattice_scale_factor=2.0, direct = True, sort = True, vasp5 = True</code></pre><h2 id="Write-the-end"><a href="#Write-the-end" class="headerlink" title="Write the end:"></a>Write the end:</h2><ul><li>when I copied the source code and set the import command, I found my ASE package in ASE (<code>__version__ = &#39;3.22.1&#39;</code>) was <strong>incompatible with</strong> the latest source code (<strong>Ref 3</strong>) that I opened on VS code (<code>__version__ = &#39;3.23.0b1&#39;</code>).</li></ul>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> ASE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-ASE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Diary - Past and future</title>
      <link href="/Thinking/Diary/Diary-Past-and-future/"/>
      <url>/Thinking/Diary/Diary-Past-and-future/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Birds of a feather flock together.<em></strong></p><p align="center"><strong><em>物以类聚, 人以群分<em></strong></p><p><strong>Updated time: 12/29 2023.</strong></p><p><strong>科研向：</strong></p><p><strong><a href="https://www.zhihu.com/question/49608607/answer/3270260357">(22 封私信) 有哪些东西是你读博士以后才懂的？ - 知乎 (zhihu.com)</a></strong></p><p><strong><a href="https://www.zhihu.com/question/626639333/answer/3257413306">(22 封私信) 博士生第一年怎么度过? - 知乎 (zhihu.com)</a></strong></p><hr><p>从本科毕业，到研究生入学已经过了一年半。</p><p>两相比较，相差太大了。研究生更倾向于是一份事业，本科时我常常钻个角落独自写题，大有一股管他春夏与秋冬，独坐小楼成一统的气魄。</p><p>入学一年半，总感觉自己现在抗打击，反PUA 的能力越来越强 😂</p><p>尤其是二年级我出国，又觉得之前在生活方面太亏待自己了，哈哈哈。或许这样说不合适，但是我确实在一个非常卷的环境时，即便休息也是非常焦虑的。而这所谓科研与生活的平衡我也在努力探索。</p><p>写在最前面的话，我想用一句什么名言开头，但又不想起高调。</p><p>专栏的初心是我总在知乎上刷到很多有用的科研经历帖，但却缺少记录。</p><p>所以，我想在此记录一些别人提到的科研经验，以及一些我的小情绪。</p><p>当然，我还想抱怨两句老板。首先他在工资方面从不亏待我，但是在科研方面，由于他不是做模拟的，至今也没有给我一个明确的课题。当然，我还是得自己加把劲，不能啥都指望老板。</p><p>另外，我还觉得老板对我的科研想法不够尊重，因为对于实验现象我有一些理解，和他说了并不受重视，但现在的情况却和我的预期相符。当然这是别人的课题，我只是参与，受不受重视也无所谓，他也不会改。但我觉得这原本是科研的讨论，但他却没能听懂我的想法，让我觉得是我人微言轻了。</p><p>下面想列一些我能想到的读研tip</p><ol><li><p>把科研当作一份工作来做，回归生活的本质才是人生的意义。</p></li><li><p>正确认识自身的科研实力，把姿态放低，把预期降低。</p></li><li><p>绝对不要完美主义，适度的偷懒是生活的调味剂。科研这件事上，快反而会慢，慢反而会快。</p></li><li><p>对于科研，我是有一点望而生畏的。科研没有那么神秘，这个世界就是一大堆人搭的草台班子。</p></li><li><p>尽快出文章，少做横向。不能全听导师的，一开始得自己想办法合作或者自己弄点课题做。</p></li><li><p>少玩手机，多科研。科研是需要有效的时间来做“冷板凳”的，要想有所成就，首先就需要保证充足或大量的时间。</p></li><li><p>与他人交流</p></li><li><p>勇于展示自己的工作</p></li><li><p>不要总拿自己和他人比较，每个人的志向和time zone 不同</p></li><li><p>君子慎独</p></li></ol><p align="center"><strong><em>最后，送给所有读博人一句共勉的话：<em></strong></p><hr><p align="center"><strong><em>“决心要行的路，怎能没有暴风拦路，前进吧，诸位！”<em></strong></p>]]></content>
      
      
      <categories>
          
          <category> Thinking </category>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thinking-Diary </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ASE - generate POSCAR</title>
      <link href="/Software/ASE/ASE-generate-POSCAR/"/>
      <url>/Software/ASE/ASE-generate-POSCAR/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Art is long, but life is short.<em></strong></p><p align="center"><strong><em>人生有限, 学问无涯<em></strong></p><p><strong>Updated time: 12/24 2023.</strong></p><h1 id="Generating-the-POSCAR-file-of-gold-with-hcp-and-fcc-structures"><a href="#Generating-the-POSCAR-file-of-gold-with-hcp-and-fcc-structures" class="headerlink" title="Generating the POSCAR file of gold with hcp and fcc structures"></a>Generating the POSCAR file of gold with hcp and fcc structures</h1><p><strong>Noted that:</strong> bulk and 12-layer closed-packaged plane</p><p><strong>INPUT:</strong> a, num_layers, Miller index of fcc and hcp</p><p><strong>OUTPUT:</strong> POSCAR_gold_fcc, POSCAR_gold_hcp</p><h2 id="Reference-Surfaces-—-ASE-documentation-dtu-dk"><a href="#Reference-Surfaces-—-ASE-documentation-dtu-dk" class="headerlink" title="Reference: Surfaces — ASE documentation (dtu.dk)"></a>Reference: Surfaces — ASE documentation (dtu.dk)</h2><pre><code class="lang-bash">from numpy import sqrtfrom ase import Atomsfrom ase.build import bulk, fcc111, surfacefrom ase.io import writefrom ase.visualize import view</code></pre><h2 id="Define-the-lattice-parameters-for-hcp-structure"><a href="#Define-the-lattice-parameters-for-hcp-structure" class="headerlink" title="Define the lattice parameters for hcp structure"></a>Define the lattice parameters for hcp structure</h2><pre><code class="lang-bash">## Function: ## INPUT :   a, num_layers, Miller index of fcc and hcp## OUTPUT:   POSCAR_gold_fcc, POSCAR_gold_hcp# Define the lattice parameters for hcp structurea = 2.95  # lattice constant# Create an bulk hcp structure for goldGoldbulk_hcp = bulk(&#39;Au&#39;, &#39;hcp&#39;, a=a, covera=sqrt(8.0/3.0))# slice# Set the number of layers to 12num_layers = 12num_rep_z = int(num_layers/len(Goldbulk_hcp.numbers))gold_hcp = surface(Goldbulk_hcp, (0,0,1), num_rep_z)gold_hcp.center(vacuum=20, axis=2)# print(Goldbulk_hcp)# print(gold_hcp)# Write POSCAR file using the ase write functionwrite(&#39;POSCAR_gold_hcp&#39;, gold_hcp, format=&#39;vasp&#39;, direct=True, vasp5=True)# gold_hcp.edit()view(gold_hcp)</code></pre><h2 id="Define-the-lattice-parameters-for-fcc-structure"><a href="#Define-the-lattice-parameters-for-fcc-structure" class="headerlink" title="Define the lattice parameters for fcc structure"></a>Define the lattice parameters for fcc structure</h2><pre><code class="lang-bash">## no INPUTGoldbulk_fcc = bulk(&#39;Au&#39;, &#39;fcc&#39;, a=a*sqrt(2.0))num_rep_z = int(num_layers/len(Goldbulk_fcc.numbers))gold_fcc = surface(Goldbulk_fcc, (1, 1, 1), num_rep_z)gold_fcc.center(vacuum=20, axis=2)# print(Goldbulk_fcc)# print(gold_fcc)# Write POSCAR file using the ase write functionwrite(&#39;POSCAR_gold_fcc&#39;, gold_fcc, format=&#39;vasp&#39;, direct=True, vasp5=True)# gold_fcc.edit()view(gold_fcc)</code></pre><h2 id="Questions"><a href="#Questions" class="headerlink" title="Questions"></a>Questions</h2><ul><li>ASE 中，surface 和 cut 的区别？（只有我一个人觉得 ASE 的 manual 很乱吗）</li><li>surface method 返回值离面方向 lengths of basis vector 为 0 . 所以必须加真空层，显示就正常了。</li><li>ASE 还能生成别的输入文件吗？INCAR, KPOINTS。但是感觉这不是ASE的强项</li></ul>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> ASE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-ASE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python - DFT calculation 3 - Generate Kpoints</title>
      <link href="/Program/Python/Python-DFT-calculation-3-Generate-Kpoints/"/>
      <url>/Program/Python/Python-DFT-calculation-3-Generate-Kpoints/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Provide for a rainy day.<em></strong></p><p align="center"><strong><em>未雨绸缪<em></strong></p><p><strong>Updated time: 11/23 2023.</strong></p><h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ol><li><p><a href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Brillouin_zone"><strong>wikipedia</strong></a></p></li><li><p><a href="https://link.zhihu.com/?target=https%3A//lampx.tugraz.at/~hadley/ss1/bzones/hexagonal.php">The first Brillouin zone of a (simple) hexagonal lattice</a> (<strong>I thought it provided wrong messages</strong>)</p></li><li><p><a href="https://link.zhihu.com/?target=https%3A//www.materialscloud.org/work/tools/seekpath"><strong>Materials Cloud</strong></a></p></li><li><p><strong>doi: 10.1016/j.commatsci.2010.05.010</strong></p></li></ol><h2 id="0-Introduction"><a href="#0-Introduction" class="headerlink" title="0. Introduction"></a>0. Introduction</h2><p><strong>Analysis procedure:</strong> POSCAR ==&gt;&gt; Reciprocal vector/ K-space ==&gt;&gt; K-mesh</p><p><strong>Note:</strong> The key discussion is the different K-mesh between primitive cell and conventional cell</p><h2 id="1-A-general-problem-is-how-to-generate-K-mesh-in-VASP-software"><a href="#1-A-general-problem-is-how-to-generate-K-mesh-in-VASP-software" class="headerlink" title="1. A general problem is how to generate K-mesh in VASP software"></a>1. A general problem is how to generate K-mesh in VASP software</h2><p>I got an OUTCAR file, but I couldn’t understand all the meaning of it.</p><h3 id="1-0-reciprocal-vector-is-strange"><a href="#1-0-reciprocal-vector-is-strange" class="headerlink" title="1.0 reciprocal vector is strange"></a>1.0 reciprocal vector is strange</h3><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/1.png" alt="my OUTCAR"></p><p>why it is? How to calculate it?</p><h3 id="1-1-Irreducible-k-points"><a href="#1-1-Irreducible-k-points" class="headerlink" title="1.1 Irreducible k-points"></a>1.1 Irreducible k-points</h3><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/2.png" alt="my OUTCAR"></p><p>In my POSCAR, there are two primitive cells along a<sub>1</sub>. But in reciprocal space, the k-points along the b1 direction are almost irreducible, and those along the b<sub>2</sub> direction are reduced.</p><p>Why? I try to solve it by using <strong>Matlab</strong>.</p><h2 id="2-Constructing-of-the-k-space"><a href="#2-Constructing-of-the-k-space" class="headerlink" title="2. Constructing of the k-space"></a>2. Constructing of the k-space</h2><pre><code class="lang-matlab">clearclc</code></pre><p>Public symbol</p><pre><code class="lang-matlab">% 指定要生成的感叹号符号的数量numExclamationPoints = 20;numNotPoints = 40;% 使用循环生成感叹号符号exclamationString = &#39;&#39;;for i = 1:numExclamationPoints    exclamationString = [exclamationString &#39;!&#39;];end% 使用循环生成分割线符号noteString = &#39;&#39;;for i = 1:numNotPoints    noteString = [noteString &#39;-&#39;];end</code></pre><p>Now, <strong>Calculating of reciprocal vectors and its length</strong></p><pre><code class="lang-matlab">% 输入：正晶格基矢量矩阵 A% 输出：包含倒晶格基矢量的矩阵 B, 长度 lengths%% 功能% 1. 从正晶格到倒易晶格% 2. 手动输入基矢量矩阵，并检查基矢量独立性%% 未完成功能% 1. 输入格式多样，% 从用户获取正晶格基矢量,并检查基矢量的独立性prompt = &quot;Please input the matix of direct-vector (row by row):\n&quot; + ...         &quot;Please don&#39;t forget character []\n&quot;;while true    disp(noteString)    A = input(prompt);    % 检查基矢量的线性独立性    if det(A) &lt; 3        disp(exclamationString);        disp(&#39;The base vector is dependent&#39;);        disp(noteString)    else        disp(&#39;The base vector is independent&#39;);        disp(&#39;Direct vector&#39;)        disp(A)        disp(noteString)        break; % 如果矢量是线性独立的，退出循环    endend% 1. 计算正晶格的体积V = det(A);% 2. 计算倒晶格基矢量矩阵，矢量定义和矩阵求逆,两种单位1/Angstron,2*pi/Angstron%    A*B&#39;=2*pi*I; B=2*pi*inv(A)&#39;%    注意 B 矩阵的转置% % B = zeros(3, 3);% % for i = 1:3% %     B(i, :) = (2*pi/V) * cross(A(mod(i,3)+1, :), A(mod(i+1,3)+1, :));% % endB1 = 2*pi*inv(A)&#39;;B2 = inv(A)&#39;% 使用norm函数计算每一行矢量的长度lengths_B1 = zeros(1, size(B1, 1));lengths_B2 = zeros(1, size(B2, 1));for i = 1:size(B1, 1)    lengths_B1(i) = norm(B1(i, :));endfor i = 1:size(B2, 1)    lengths_B2(i) = norm(B2(i, :));end% 3. 验证是否为对角矩阵 2*pi，这也是前面为什么可以求逆disp(noteString)disp(&quot;Please check it if it&#39;s a diagonal matrix&quot;)disp(&quot;units:Angstron X 1/Angstron&quot;)disp(B1*A&#39;)disp(noteString)disp(&quot;units:Angstron X 2*pi/Angstron&quot;)disp(B2*A&#39;)disp(noteString)% 得到的矩阵 B 就是包含倒晶格基矢量的矩阵disp(noteString)disp(&#39;Reciprocal vectors (units:1/Angstron):&#39;)disp(B1)disp(&#39;The length of Rec-Vectors&#39;)disp(lengths_B1)disp(noteString)disp(&quot;Reciprocal vectors (units:2*pi/Angstron):&quot;)disp(B2)disp(&#39;The length of Rec-Vectors&#39;)disp(lengths_B2)disp(noteString)</code></pre><p>The matrix of the reciprocal vector has two equivalent definitions, vector operations and matrix transformations. The latter is recommended, <code>B = inv(A)&#39;</code>or <code>B = 2·pi·inv(A)&#39;</code>, depending on units (<code>2·pi·1/Angstron or 1/Angstron</code>).</p><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/3.png" alt="The results are the same as those of OUTCAR"></p><h2 id="3-Generating-K-mesh"><a href="#3-Generating-K-mesh" class="headerlink" title="3. Generating K-mesh"></a>3. Generating K-mesh</h2><p>First, we must know the definition of the first Brillouin zone, <code>[-0.5, -0.5, -0.5]</code> to <code>[0.5, 0.5, 0.5]</code> in the units scale.</p><p>Second, we need to transform from k-points resolved values to the density of k-mesh.</p><p>Third, if we want to get a gamma-centered k-mesh, just shift the center to the gamma point <code>[0, 0, 0]</code>. Obviously, the number along the 3-direction should be odd.</p><p><strong>Obatian Gamma-centered K-mesh</strong></p><pre><code class="lang-matlab">% Input: KPT-Resolved Value (e.g., 0.04, in unit of 2*PI/Angstrom)% Output: The matrix of kpoints%% 功能% 1. 输入两种 KPR value, 并检查格式% 2. 分割中心对称网格,如果是偶数则加一% 从用户获取网格精度prompt = [&#39;Please input the KPT-Resolved Value (e.g., 0.01 &lt; 0.04 &lt; 0.06, in unit of 2*PI/Angstrom):\n&#39; ...    &#39;Please input the KPT-Resolved Value (e.g., 10 &lt; 25 &lt; 100, in unit of 1/Angstrom):\n&#39;];temp = 0;while true    temp = input(prompt);    % 检查基矢量的线性独立性    if (temp &lt; 0.06) &amp;&amp; (temp &gt; 0.01)        disp(&#39;The KPR value is reasonable&#39;);        disp(&#39;KPR value&#39;)        kpr = 1.0/temp        disp(kpr)        break;    elseif temp &lt; 100 &amp;&amp; temp &gt; 10        disp(&#39;The KPR value is reasonable&#39;);        disp(&#39;KPR value&#39;)        kpr = temp        disp(kpr)        break; % 如果矢量是线性独立的，退出循环    else        disp(exclamationString);        disp(&#39;The kpr value is too high or too low!&#39;);    endend</code></pre><p>Obviously, the number along the 3-direction should be odd.</p><pre><code class="lang-matlab">N = round(max(1,lengths_B1/(2*pi/kpr)));N = N + ~mod(N,2)</code></pre><p>The results are <code>[3 9 1]</code> , but in OUTCAR, the irreducible points are <code>14 (2+4*3)</code>. The k-points along b<sub>2</sub> is reduced!</p><h2 id="4-Resulting-from-symmetry"><a href="#4-Resulting-from-symmetry" class="headerlink" title="4. Resulting from symmetry"></a>4. Resulting from symmetry</h2><p>b<sub>01</sub>, b<sub>02</sub>, b<sub>03</sub> is reciprocal basis vector of the primitive cell.</p><p>b<sub>11</sub>, b<sub>12</sub>, b<sub>13</sub> is reciprocal basis vector of the conventional cell.</p><p>a<sub>01</sub>…</p><p>a<sub>11</sub>…</p><p>a<sub>11</sub> = 2·a<sub>01</sub>, a<sub>12</sub> = a<sub>02</sub>, a<sub>13</sub> = a<sub>03</sub>.</p><p>so, b<sub>11</sub> = 0.5·b<sub>01</sub>, b<sub>12</sub> = b<sub>02</sub>, b<sub>13</sub> = b<sub>03</sub>.</p><p>Then, the symmetry along the b<sub>11</sub> direction is broken. Those along other direction is reserved.</p><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/4.png" alt="Reciprocal and direct space"></p><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/5.png" alt="Hand drawn"></p><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/6.png" alt="chatgpt"></p><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/7.png" alt="chatgpt"></p><h2 id="5-SeekPath-A-useful-tool-to-visualize-the-Brillouin-zone-of-any-crystals"><a href="#5-SeekPath-A-useful-tool-to-visualize-the-Brillouin-zone-of-any-crystals" class="headerlink" title="5. SeekPath: A useful tool to visualize the Brillouin zone of any crystals."></a>5. SeekPath: A useful tool to visualize the Brillouin zone of any crystals.</h2><p>Even then, it could be used to find a primitive cell!</p><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/8.png" alt="Important note"></p><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/9.png" alt="How to cite and python libray"></p><h2 id="6-An-interesting-literature-about-high-symmetry-points-path"><a href="#6-An-interesting-literature-about-high-symmetry-points-path" class="headerlink" title="6. An interesting literature about high-symmetry points/path."></a>6. An interesting literature about high-symmetry points/path.</h2><p><img src="/images/Python-DFT-calculation-3-Generate-Kpoints/10.png" alt="Fig.2"></p><p>They draw some brillouin zone of many lattices. It’s interesting.</p><h2 id="At-the-end"><a href="#At-the-end" class="headerlink" title="At the end"></a>At the end</h2><ul><li><p><strong>Solved:</strong></p><ul><li>Matlab code, Done</li><li>Generating reducible K-points, Done</li></ul></li><li><p><strong>Not solved:</strong></p><ul><li>Generating irreducible K-points</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Program </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Program-Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python - DFT calculation 2 - Introduction of Kspace</title>
      <link href="/Program/Python/Python-DFT-calculation-2-Introduction-of-Kspace/"/>
      <url>/Program/Python/Python-DFT-calculation-2-Introduction-of-Kspace/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Good wine needs no bush.<em></strong></p><p align="center"><strong><em>酒好不怕巷子深<em></strong></p><p><strong>Updated time: 11/21 2023.</strong></p><h1 id="K-空间是什么"><a href="#K-空间是什么" class="headerlink" title="K 空间是什么"></a>K 空间是什么</h1><h2 id="Ref：Highlight-为本文主要参考"><a href="#Ref：Highlight-为本文主要参考" class="headerlink" title="Ref：Highlight 为本文主要参考"></a>Ref：Highlight 为本文主要参考</h2><ol><li><p><a href="https://www.zhihu.com/question/629415616">(20 </a><a href="https://www.zhihu.com/question/629415616">封私信 </a><a href="https://www.zhihu.com/question/629415616">/ 64 </a><a href="https://www.zhihu.com/question/629415616">条消息</a><a href="https://www.zhihu.com/question/629415616">) </a><a href="https://www.zhihu.com/question/629415616">怎么理解</a><a href="https://www.zhihu.com/question/629415616">k</a><a href="https://www.zhihu.com/question/629415616">空间的</a><a href="https://www.zhihu.com/question/629415616">k</a><a href="https://www.zhihu.com/question/629415616">呢？有什么物理意义？ </a><a href="https://www.zhihu.com/question/629415616">- </a><a href="https://www.zhihu.com/question/629415616">知乎 </a><a href="https://www.zhihu.com/question/629415616">(zhihu.com</a><a href="https://www.zhihu.com/question/629415616">)</a></p></li><li><p><a href="https://www.zhihu.com/question/38580805">(20 </a><a href="https://www.zhihu.com/question/38580805">封私信 </a><a href="https://www.zhihu.com/question/38580805">/ 64 </a><a href="https://www.zhihu.com/question/38580805">条消息</a><a href="https://www.zhihu.com/question/38580805">) </a><a href="https://www.zhihu.com/question/38580805">如何理解</a><a href="https://www.zhihu.com/question/38580805">K</a><a href="https://www.zhihu.com/question/38580805">空间和半导体能带图？ </a><a href="https://www.zhihu.com/question/38580805">- </a><a href="https://www.zhihu.com/question/38580805">知乎 </a><a href="https://www.zhihu.com/question/38580805">(zhihu.com)</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/99671920">了不起的</a><a href="https://zhuanlan.zhihu.com/p/99671920">K</a><a href="https://zhuanlan.zhihu.com/p/99671920">空间 </a><a href="https://zhuanlan.zhihu.com/p/99671920">- </a><a href="https://zhuanlan.zhihu.com/p/99671920">知乎 </a><a href="https://zhuanlan.zhihu.com/p/99671920">(zhihu.com)</a></p></li><li><p><a href="https://www.zhihu.com/question/24074053?sort=created">(20 </a><a href="https://www.zhihu.com/question/24074053?sort=created">封私信 </a><a href="https://www.zhihu.com/question/24074053?sort=created">/ 64 </a><a href="https://www.zhihu.com/question/24074053?sort=created">条消息</a><a href="https://www.zhihu.com/question/24074053?sort=created">) </a><a href="https://www.zhihu.com/question/24074053?sort=created">如何形象地理解固体物理中的 </a><a href="https://www.zhihu.com/question/24074053?sort=created">k </a><a href="https://www.zhihu.com/question/24074053?sort=created">空间？ </a><a href="https://www.zhihu.com/question/24074053?sort=created">- </a><a href="https://www.zhihu.com/question/24074053?sort=created">知乎 </a><a href="https://www.zhihu.com/question/24074053?sort=created">(zhihu.com)</a></p></li><li><p><strong><a href="https://www.zhihu.com/tardis/zm/art/24242724?source_id=1005">晶体结构</a><a href="https://www.zhihu.com/tardis/zm/art/24242724?source_id=1005">5——</a><a href="https://www.zhihu.com/tardis/zm/art/24242724?source_id=1005">倒格子 布里渊区 </a><a href="https://www.zhihu.com/tardis/zm/art/24242724?source_id=1005">(zhihu.com)</a></strong></p></li><li><p><strong><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E9%87%8C%E6%B8%8A%E5%8C%BA">布里渊区 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E9%87%8C%E6%B8%8A%E5%8C%BA">- </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E9%87%8C%E6%B8%8A%E5%8C%BA">维基百科，自由的百科全书 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E9%87%8C%E6%B8%8A%E5%8C%BA">(wikipedia.org)</a></strong></p></li><li><p><strong><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E4%BD%8D%E7%BD%AE%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%8A%A8%E9%87%8F%E7%A9%BA%E9%97%B4">位置空间与动量空间 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E4%BD%8D%E7%BD%AE%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%8A%A8%E9%87%8F%E7%A9%BA%E9%97%B4">- </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E4%BD%8D%E7%BD%AE%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%8A%A8%E9%87%8F%E7%A9%BA%E9%97%B4">维基百科，自由的百科全书 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E4%BD%8D%E7%BD%AE%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%8A%A8%E9%87%8F%E7%A9%BA%E9%97%B4">(wikipedia.org)</a></strong></p></li><li><p><strong><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%80%92%E6%98%93%E7%82%B9%E9%98%B5">倒易点阵 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%80%92%E6%98%93%E7%82%B9%E9%98%B5">- </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%80%92%E6%98%93%E7%82%B9%E9%98%B5">维基百科，自由的百科全书 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%80%92%E6%98%93%E7%82%B9%E9%98%B5">(wikipedia.org</a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%80%92%E6%98%93%E7%82%B9%E9%98%B5">)</a></strong></p></li><li><p><strong><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E6%B4%9B%E8%B5%AB%E6%B3%A2">布洛赫波 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E6%B4%9B%E8%B5%AB%E6%B3%A2">- </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E6%B4%9B%E8%B5%AB%E6%B3%A2">维基百科，自由的百科全书 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E6%B4%9B%E8%B5%AB%E6%B3%A2">(wikipedia.org)</a></strong></p></li><li><p><strong><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/K%C2%B7p%E5%BE%AE%E6%89%B0%E8%AE%BA">K·p</a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/K%C2%B7p%E5%BE%AE%E6%89%B0%E8%AE%BA">微扰论 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/K%C2%B7p%E5%BE%AE%E6%89%B0%E8%AE%BA">- </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/K%C2%B7p%E5%BE%AE%E6%89%B0%E8%AE%BA">维基百科，自由的百科全书 </a><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/K%C2%B7p%E5%BE%AE%E6%89%B0%E8%AE%BA">(wikipedia.org</a></strong></p></li><li><p><strong><a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E6%8B%89%E6%A0%BC%E5%AE%9A%E5%BE%8B%23%E5%B8%83%E6%8B%89%E6%A0%BC%E6%A2%9D%E4%BB%B6">布拉格定律 - 维基百科，自由的百科全书 (wikipedia.org)</a></strong></p></li></ol><h2 id="1-一张二维衍射图"><a href="#1-一张二维衍射图" class="headerlink" title="1. 一张二维衍射图"></a>1. 一张二维衍射图</h2><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/1.png" alt="正、倒易晶格对比"></p><ul><li><p>二维晶格中，正、倒易基矢量互相垂直。三维晶格，只有正晶格基矢量互为垂直，才满足上述关系。</p></li><li><p>倒易矢量方向垂直于晶格面——沿晶格间距方向，大小与间距成反比，见节2。d<sub>1</sub>&gt;d<sub>2</sub>=d<sub>3</sub>，所以g<sub>2</sub>=g<sub>3</sub>&gt;g<sub>1</sub> 。</p></li><li><p>倒易空间中 g<sub>1</sub> 方向为1系列点，对应晶格间距为 d<sub>1</sub>, 2·d<sub>1</sub>, 3·d<sub>1</sub>…的波矢都在第一布里渊区中。这也是我们为什么这么关心第一布里渊区的原因。</p></li><li><p>正空间中，位置的量纲为 [L]，倒空间中波矢的量纲为 [L<sup>-1</sup>] ，见节2。</p></li></ul><h2 id="2-一个简单的数学描述，布拉格定律和布洛赫函数"><a href="#2-一个简单的数学描述，布拉格定律和布洛赫函数" class="headerlink" title="2. 一个简单的数学描述，布拉格定律和布洛赫函数"></a>2. 一个简单的数学描述，布拉格定律和布洛赫函数</h2><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/2.png" alt="布拉格定律，参考8"></p><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/3.png" alt="晶体衍射，参考11"></p><p>晶体衍射实验，可以从入射波和反射波的波矢，方向，相位确定反射平面方向和晶面间距。由此，满足布拉格定律的晶体衍射反映的不是正晶格而是倒晶格。</p><p>联想到一维原子链的晶格间距为a，倒晶格间距为<code>2·pi/a</code>。我们可以想象一束特定波矢的波沿原子链方向入反射，记录下了原子间距的信息。</p><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/4.png" alt="倒晶格，参考8"></p><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/5.png" alt="布洛赫波，参考9"></p><p>p 和 k 只差一个常数因子，所以倒易空间也称动量空间。另外，<code>p = h·k</code>在晶体中不成立。</p><p>布洛赫波由一个平面波和一个周期函数相乘得到。</p><h2 id="3-一个形而上学的解释"><a href="#3-一个形而上学的解释" class="headerlink" title="3. 一个形而上学的解释"></a>3. 一个形而上学的解释</h2><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/6.png" alt="位置和动量的对偶性"></p><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/7.png" alt="甚至分析力学也有对偶性的影子!!!"></p><p>类似于时域和频域的对偶，傅里叶变换可以从位置空间描述到动量描述的转换。类比于角频率之于时间 t，k 可以视为系统空间上的频率。我的理解是对于不同的晶格类型，有不同的满足布洛赫衍射的波矢，由此将波矢作为该晶格类型的一种描述。类似的频域分析也是，找到共振频率，进而分析。</p><p>我还联想到的是波粒二象性，光既不是粒子也不是波，但他有两种属性，都是实验测得的。而原子经典意义上是一个粒子，但在原子与原子的联系中又有波的性质，例如相互作用力。世界上的相互作用都是波性质的体现，因为两个原子不会紧密的接触在一起（除了密排金属），通过相互作用互相排斥或吸引。而密排金属并不是没有相互作用，恰恰相反，不然他们为啥会吸引在一起呢。只是能量最低的结构，以及能垒高低不同而已。经典力学是个宏观的概念，在原子尺度，他可以解释一些弹性阶段的事，比如将两个原子近似为弹簧连接，但远离平衡状态的现象却没法很好的解释。任何一种理论都有其特定的局限性。我觉得密度泛函理论是很普适的，也只是因为我没接触到更本征的领域而已。</p><h2 id="4-布里渊区"><a href="#4-布里渊区" class="headerlink" title="4. 布里渊区"></a>4. 布里渊区</h2><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/8.png" alt="二维正方形，密排晶格对应的倒格子"></p><p>第一布里渊区在<a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%87%A0%E4%BD%95">几何</a>上与<a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E5%B8%83%E6%8B%89%E8%8F%B2%E7%82%B9%E9%98%B5">布拉菲点阵</a>中的<a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E7%BB%B4%E6%A0%BC%E7%BA%B3-%E8%B5%9B%E5%85%B9%E5%8E%9F%E8%83%9E">维格纳-赛兹原胞</a>类似。</p><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/9.png" alt="正、倒易晶格关系"></p><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/10.png" alt="布里渊和布里渊区，哈哈"></p><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/11.png" alt="参考8"></p><p><img src="/images/Python-DFT-calculation-2-Introduction-of-Kspace/12.png" alt="参考8"></p><p>我觉得参考8中的不同晶格的倒晶格对我最容易接受。</p><h2 id="5-一些没有解决的问题和碎碎念"><a href="#5-一些没有解决的问题和碎碎念" class="headerlink" title="5. 一些没有解决的问题和碎碎念"></a>5. 一些没有解决的问题和碎碎念</h2><p>我是为了复现 VASP 中关于 K 点的划分而查这么多资料的。</p><ul><li><p>POSCAR 为原胞和超胞对 K 点的划分影响吗？</p></li><li><p>POSCAR 中 a<sub>1</sub> 方向有两个原胞，但划分网格时反而 b<sub>2</sub> 方向缩减了 k 点，为什么？</p></li><li><p>差一张图，HCP 晶格的倒晶格还是 HCP，高对称路径。<code>/_|</code> 差不多是这个三角形，但是各个高对称点的含义和名字我不清楚。</p></li></ul><p>解决的问题</p><ul><li><p>看到了衍射空间，写了一篇文章方便复习，做了 PPT 整理</p></li><li><p>了解了些许物理含义，对偶。。。甚至看到了分析力学，勒让德变换，我一直以为这是经典力学的范畴</p></li><li><p>正在写 matlab 代码，就差最后一步 k 点划分了</p></li><li><p>对三维晶格倒空间第一布里渊区的高对称点有了个直观的概念，通俗的讲就是根据对称性去折叠，沿着折叠的轨迹去算。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Program </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Program-Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python - DFT calculation 1 - Solve the one dimensional Schrodinger equation</title>
      <link href="/Program/Python/Python-DFT-calculation-1-Solve-the-one-dimensional-Schrodinger-equation/"/>
      <url>/Program/Python/Python-DFT-calculation-1-Solve-the-one-dimensional-Schrodinger-equation/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Still waters run deep.<em></strong></p><p align="center"><strong><em>静水流深<em></strong></p><p><strong>Updated time: 08/30 2023.</strong></p><h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><p><a href="https://zhuanlan.zhihu.com/p/393374195">MATLAB | 定态薛定谔方程的数值解——以一维谐振子为例 - 知乎 (zhihu.com)</a></p><p><strong>未解决的问题:</strong> 如何保证波函数^2在全空间积分为1；厄米方程，级数解法</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><pre><code class="lang-matlab">clearclc1-dim Harmonic oscillator%% 设置基本参数X = 10;     % 长度 N = 200;    % 格点数dx = 2*X/N;   % 空间步长x = linspace(-X,X,N);n = 2;      % 次数nV = 1/2*x&#39;.^n;  % 势场plot(x,V)%% 哈密顿算符A = spdiags(V,0,N,N);  % 提取V的对角线并生成矩阵H = zeros(N,3);H(1:N,1) = -0.5/dx^2;H(1:N,2) = 1/dx^2;H(1:N,3) = -0.5/dx^2;B = spdiags(H,-1:1,N,N);C = A+B;%% 求解哈密顿矩阵的特征矢量和特征值E = 9;    % 能级数% 求特征值[Vector, Value] = eigs(C,E,0)psi = Vector(:,2)% 计算波函数的模的平方psi_squared = abs(psi).^2;% 计算归一化常数,全空间积分为1normalization_constant = trapz(x, psi_squared);% 对波函数进行归一化normalized_psi = psi / sqrt(normalization_constant);plot(x,normalized_psi)%% 画图for i = 1:E    psi = Vector(:,i);    subplot(3,3,i)    % 计算波函数的模的平方    psi_squared = abs(psi).^2;    % 计算归一化常数    normalization_constant = trapz(x, psi_squared);    % 对波函数进行归一化    normalized_psi = psi / sqrt(normalization_constant);    plot(x,normalized_psi)    ylim([-0.8 0.8]);    xlabel(&#39;x&#39;);ylabel(&#39;P&#39;);end</code></pre>]]></content>
      
      
      <categories>
          
          <category> Program </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Program-Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lammps - Reinstall</title>
      <link href="/Software/Lammps/Lammps-Reinstall/"/>
      <url>/Software/Lammps/Lammps-Reinstall/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Well begun is half done.<em></strong></p><p align="center"><strong><em>好的开端是成功的一半<em></strong></p><p><strong>Updated time: 11/25 2022.</strong></p><p><strong>前提：</strong>已经安装过别的版本lammps</p><pre><code class="lang-bash">mpicxxmake yes-allmake no-libmake mpi -j9And set the environmental variable</code></pre><p><img src="/images/Lammps-Reinstall/1.png" alt="Figure 1"></p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> Lammps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-Lammps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lammps - SW mod potential of MoS2</title>
      <link href="/Software/Lammps/Lammps-SW-mod-potential-of-MoS2/"/>
      <url>/Software/Lammps/Lammps-SW-mod-potential-of-MoS2/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Rome was not bult in a day.<em></strong></p><p><strong>Updated time: 04/19 2022.</strong></p><h2 id="SW-mod-potential-of-Lammps"><a href="#SW-mod-potential-of-Lammps" class="headerlink" title="SW mod potential of Lammps"></a>SW mod potential of Lammps</h2><p>修改的 SW 势函数来自于以下文献，补充材料中</p><p><img src="/images/Lammps-SW-mod-potential-of-MoS2/1.png" alt="Figure 1"></p><p>作者注明，需要对 Lammps 中的 <code>pair_sw.cpp</code> 做修改如下</p><p><img src="/images/Lammps-SW-mod-potential-of-MoS2/2.png" alt="Figure 2"></p><p>修改步骤来源于文献</p><p><img src="/images/Lammps-SW-mod-potential-of-MoS2/3.png" alt="Figure 3"></p><p>注意，不同版本的 <code>pair_sw.cpp</code> 本身不同，只需要在其自身编译的原文件上做上述修改即可</p><h2 id="Related-commands"><a href="#Related-commands" class="headerlink" title="Related commands"></a>Related commands</h2><pre><code class="lang-bash">make psmake yes-MANYBODYmake no-MANYBODY  #sw.cpp包含在MANYBODY包中make mpi</code></pre><h2 id="Noted"><a href="#Noted" class="headerlink" title="Noted"></a>Noted</h2><p>LAMMPS 目前支持 <code>pair_style sw/mod</code>, 对角度的余弦值进行限定。对于黑磷和过渡金属硫化物，可限定在 <strong>(0.25,0.35)</strong> , 不必对 <strong>SW</strong> 势函数重新编译。应该对<code>src/MANYBODY</code>包中的<code>pair_sw.cpp</code>修改</p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> Lammps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-Lammps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lammps - Add new pair style</title>
      <link href="/Software/Lammps/Lammps-Add-new-pair-style/"/>
      <url>/Software/Lammps/Lammps-Add-new-pair-style/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Books and friends should be few butgood.<em></strong></p><p><strong>Updated time: 04/16 2022.</strong></p><p><strong>感谢<a href="https://link.zhihu.com/?target=https%3A//github.com/by-student-2017">github用户</a></strong></p><p>以 MOS<sub>2</sub> 的 rebo 势函数为例 (<strong>DOI:<a href="https://link.zhihu.com/?target=https%3A//journals.aps.org/prb/abstract/10.1103/PhysRevB.79.245110">10.1103/PhysRevB.79.245110</a></strong>)</p><p><strong>Source code:</strong> <a href="https://link.zhihu.com/?target=https%3A//github.com/by-student-2017/lammps_MoS_REBO%23run-easy-method-elastic-at-any-temperature">GitHub</a></p><h2 id="下载压缩包"><a href="#下载压缩包" class="headerlink" title="下载压缩包"></a>下载压缩包</h2><p><img src="/images/Lammps-Add-new-pair-style/1.png" alt="Figure 1"></p><p><img src="/images/Lammps-Add-new-pair-style/2.png" alt="Figure 2"></p><h2 id="进入lammps-src文件下"><a href="#进入lammps-src文件下" class="headerlink" title="进入lammps/src文件下"></a>进入<code>lammps/src</code>文件下</h2><p>将<code>.cpp .h</code>文件拷到<code>src</code>下</p><p>修改<code>style_pair.h</code>添加</p><pre><code class="lang-text">#include &quot;pair_rebomos.h&quot;</code></pre><p>修改<code>makefile.list</code>添加</p><p><img src="/images/Lammps-Add-new-pair-style/3.png" alt="Figure 3"></p><h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><p><code>src</code>目录下输入</p><pre><code class="lang-text">make mpi -j8</code></pre><p>将生成的<code>lmp_mpi</code>替换掉原先的执行脚本</p><h2 id="Noted"><a href="#Noted" class="headerlink" title="Noted:"></a>Noted:</h2><ul><li><p>我的虚拟机原先就装上lammps了</p></li><li><p>编译部分可参照原先的编译过程替换</p></li><li><p>推荐安装教程 (<a href="https://link.zhihu.com/?target=https%3A//www.bilibili.com/video/BV1oZ4y1s7eK%3Fspm_id_from%3D333.880.my_history.page.click">failure address</a>)</p></li><li><p>推荐一本学习lammps源代码的书籍<a href="https://www.zhihu.com/people/lijichen365/columns">ROY KID</a> 大佬<a href="https://link.zhihu.com/?target=https%3A//github.com/Roy-Kid/extending-lammps-zh">写的</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> Lammps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-Lammps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lammps - RDF of annealed SiO2 using VMD</title>
      <link href="/Software/Lammps/Lammps-RDF-of-annealed-SiO2-using-VMD/"/>
      <url>/Software/Lammps/Lammps-RDF-of-annealed-SiO2-using-VMD/</url>
      
        <content type="html"><![CDATA[<p align="center"><strong><em>Every little helps.<em></strong></p><p align="center"><strong><em>积少成多<em></strong></p><p><strong>Updated time: 04/05 2022.</strong></p><p><strong><a href="https://zhuanlan.zhihu.com/p/493516974">原文章链接</a></strong></p><h2 id="VMD-生成-lammps-data"><a href="#VMD-生成-lammps-data" class="headerlink" title="VMD 生成 lammps data"></a>VMD 生成 lammps data</h2><ol><li><p>material_studio 生成 cif 文件，扩胞</p></li><li><p>VESTA，删除镜像原子<code>_delete_bonds</code>，<code>export_data</code> 生成 xyz 文件</p></li><li><p>VMD，管理员运行</p></li></ol><pre><code class="lang-bash">pbc set &#123;a b c 90 90 90&#125;pbc boxpbc box -shiftcenterrel &#123; 0 0.5 0&#125;          #平移，0 &lt; num &lt; 1topo writelammpsdata *.data atomic          #生成在根目录,extension_TK censole</code></pre><ol><li>OVITO 检查</li></ol><h2 id="VMD生成-RDF-lammpstrj-native-dump-id-type-x-y-z"><a href="#VMD生成-RDF-lammpstrj-native-dump-id-type-x-y-z" class="headerlink" title="VMD生成 RDF lammpstrj native dump id type x y z"></a>VMD生成 RDF lammpstrj native dump id type x y z</h2><ol><li>import molecular</li></ol><p><img src="/images/Lammps-RDF-of-annealed-SiO2-using-VMD/1.png" alt="Figure 1"></p><p><img src="/images/Lammps-RDF-of-annealed-SiO2-using-VMD/2.png" alt="Figure 2"></p><ol><li>生成盒子</li></ol><pre><code class="lang-bash">pbc set &#123;&#125;pbc box</code></pre><p><img src="/images/Lammps-RDF-of-annealed-SiO2-using-VMD/3.png" alt="Figure 3"></p><p><img src="/images/Lammps-RDF-of-annealed-SiO2-using-VMD/4.png" alt="Figure 4"></p><ol><li>extension analysis - RDF</li></ol><p><img src="/images/Lammps-RDF-of-annealed-SiO2-using-VMD/5.png" alt="Figure 5"></p><p><img src="/images/Lammps-RDF-of-annealed-SiO2-using-VMD/6.png" alt="Figure 6"></p><h2 id="Rerun-command-output-RDF"><a href="#Rerun-command-output-RDF" class="headerlink" title="Rerun command - output RDF"></a>Rerun command - output RDF</h2><p>运行成功，但计算错误，都为0。不知道是为什么？</p><p><strong>Attachment:</strong> 我只找到了这一个给出了<a href="https://jpharvey.ca/2020/05/27/tricks-of-the-trade-radial-distribution-function-rdf-with-lammps/">rerun算例</a></p>]]></content>
      
      
      <categories>
          
          <category> Software </category>
          
          <category> Lammps </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software-Lammps </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
